!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).springTo=n()}(this,(function(){"use strict";for(var e=("undefined"!=typeof process&&"undefined"!=typeof require?require("perf_hooks").performance:window.performance).now,n="undefined"==typeof window?global:window,t=["moz","webkit"],o="AnimationFrame",i=n["request"+o],s=n["cancel"+o]||n["cancelRequest"+o],c=0;!i&&c<t.length;c++)i=n[t[c]+"Request"+o],s=n[t[c]+"Cancel"+o]||n[t[c]+"CancelRequest"+o];if(!i||!s){var l=0,r=0,a=[];i=function(n){if(0===a.length){var t=e(),o=Math.max(0,1e3/60-(t-l));l=o+t,setTimeout((function(){var e=a.slice(0);a.length=0;for(var n=0;n<e.length;n++)if(!e[n].cancelled)try{e[n].callback(l)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(o))}return a.push({handle:++r,callback:n,cancelled:!1}),r},s=function(e){for(var n=0;n<a.length;n++)a[n].handle===e&&(a[n].cancelled=!0)}}"undefined"!=typeof module&&(module.exports.raf=function(e){return i.call(n,e)},module.exports.cancel=function(){s.apply(n,arguments)},module.exports.polyfill=function(e){e||(e=n),e.requestAnimationFrame=i,e.cancelAnimationFrame=s});const u="undefined"!=typeof window&&void 0!==window.requestAnimationFrame?window.requestAnimationFrame:function(e){return i.call(n,e)},f={stiffness:.1,damping:.8,mass:1,precision:.01};function p(){}function d(e,n,t=f.precision){return e<n+t&&e>n-t}function m(e,n){return Array.isArray(e)?function(e,{stiffness:n=f.stiffness,damping:t=f.damping,mass:o=f.mass,precision:i=f.precision,onUpdate:s=p,onComplete:c=p}=f){let l=[],r=[],a=null,u=[];function m(){return r}const g={completed:!1,stiffness:n,damping:t,precision:i,mass:o,update:function(){null!==a&&r.forEach((n,t)=>{let o=r[t]-l[t],i=(a[t]-r[t])*g.stiffness-o*g.damping;i/=g.mass,l[t]=r[t],r[t]+=o+i,e[t]=r[t],d(r[t],a[t],g.precision)&&!u.includes(t)?(u.push(t),u.length===e.length&&(g.completed=!0,s(a),c())):!u.length===e.length&&s(m())})},getValue:m,setValue:function(e){r=e.map(e=>e),l=e.map(e=>e),u=[],a=null,g.completed=!1},target:function(e){Array.isArray(e)?e.length===r.length?(a=e,u=[],g.completed=!1):console.error("Spring: target length must match the length of the first argument."):console.error("Spring: target must match the type of startValue")}};return g.setValue(e),g}(e,n):"object"==typeof e?function(e,{stiffness:n=f.stiffness,damping:t=f.damping,mass:o=f.mass,precision:i=f.precision,onUpdate:s=p,onComplete:c=p}=f){let l,r,a,u={},m=[];function g(){return a}const h={completed:!1,stiffness:n,damping:t,precision:i,mass:o,update:function(){if(Object.keys(u).length>0){for(let n=0;n<l.length;n++){let t=l[n];if(void 0!==u[t]&&!m.includes(t)){let n=a[t]-r[t],o=(u[t]-a[t])*h.stiffness-n*h.damping;o/=h.mass,r[t]=a[t],a[t]+=n+o,e[t]=a[t],d(a[t],u[t],h.precision)&&!m.includes(t)&&m.push(t)}}Object.keys(u).every(e=>m.includes(e))&&!h.completed?(h.completed=!0,Object.keys(u).forEach(e=>{a[e]=u[e]}),s(g()),c(g())):h.completed||s(g())}},getValue:g,setValue:function(e){l=Object.keys(e),r=l.reduce((n,t)=>(n[t]=e[t],n),{}),a=l.reduce((n,t)=>(n[t]=e[t],n),{}),u={},m=[],h.completed=!1},target:function(e){Object.keys(e).forEach(n=>{let t=m.indexOf(n);t>=0&&m.splice(t,1),u[n]=e[n]}),h.completed=!1}};return h.setValue(e),h}(e,n):function(e,{stiffness:n=f.stiffness,damping:t=f.damping,mass:o=f.mass,precision:i=f.precision,onUpdate:s=p,onComplete:c=p}=f){let l,r,a=null;function u(){return r}const m={completed:!1,stiffness:n,damping:t,precision:i,mass:o,update:function(){if(null!==a){let e=r-l,n=(a-r)*m.stiffness-e*m.damping;n/=m.mass,l=r,r+=e+n,d(r,a,m.precision)&&!m.completed?(m.completed=!0,r=a,s(u()),c(u())):m.completed||s(u())}},getValue:u,setValue:function(e){l=e,r=e,a=null,m.completed=!1},target:function(e){e!==r&&(a=e,m.completed=!1)}};return m.setValue(e),m}(e,n)}return function(e,n,t){let o;const i={onUpdate:p,onComplete:p},s=function(e,n){const t={};return Object.entries(e).forEach(e=>{const o=e[0],i=e[1];n[o]&&(t[o]=i)}),t}(e.state,n);function c(){o.update(),u(c)}o=m(s,{...i,...t}),o.target(n),u(()=>c())}}));
//# sourceMappingURL=springTo.min.js.map
