!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).springTo=n()}(this,(function(){"use strict";for(var e=("undefined"!=typeof process&&"undefined"!=typeof require?require("perf_hooks").performance:window.performance).now,n="undefined"==typeof window?global:window,t=["moz","webkit"],o="AnimationFrame",i=n["request"+o],c=n["cancel"+o]||n["cancelRequest"+o],a=0;!i&&a<t.length;a++)i=n[t[a]+"Request"+o],c=n[t[a]+"Cancel"+o]||n[t[a]+"CancelRequest"+o];if(!i||!c){var s=0,r=0,l=[];i=function(n){if(0===l.length){var t=e(),o=Math.max(0,1e3/60-(t-s));s=o+t,setTimeout((function(){var e=l.slice(0);l.length=0;for(var n=0;n<e.length;n++)if(!e[n].cancelled)try{e[n].callback(s)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(o))}return l.push({handle:++r,callback:n,cancelled:!1}),r},c=function(e){for(var n=0;n<l.length;n++)l[n].handle===e&&(l[n].cancelled=!0)}}"undefined"!=typeof module&&(module.exports.raf=function(e){return i.call(n,e)},module.exports.cancel=function(){c.apply(n,arguments)},module.exports.polyfill=function(e){e||(e=n),e.requestAnimationFrame=i,e.cancelAnimationFrame=c});const u="undefined"!=typeof window&&void 0!==window.requestAnimationFrame?window.requestAnimationFrame:function(e){return i.call(n,e)},f={mass:1,stiffness:.1,damping:.8,precision:.01};function d(){}function p(e,n,t=f.precision){return e<n+t&&e>n-t}return function(e,n,t){let o,i,c=1;const a={onStart:d,onUpdate:d,onComplete:d,shouldSetState:d,onSetState:d},s=function(e,n){const t={};return Object.entries(e).forEach(e=>{const o=e[0],i=e[1];n[o]&&(t[o]=i)}),t}(e.state,n);function r(){!0!==o.paused&&(o.update(c,e),c+=1,i=u(r))}return o=function(e,{paused:n=!1,stiffness:t=f.stiffness,damping:o=f.damping,mass:i=f.mass,precision:c=f.precision,shouldSetState:a=(()=>!0),onSetState:s=d,onStart:r=d,onUpdate:l=d,onComplete:u=d}=f){let m,h,y,g={},w=[];function b(){return y}const S={paused:n,completed:!1,stiffness:t,damping:o,precision:c,mass:i,update:function(n,t){if(Object.keys(g).length>0){let o,i;for(let n=0;n<m.length;n++){let t=m[n];void 0===g[t]||w.includes(t)||(o=y[t]-h[t],i=(g[t]-y[t])*S.stiffness-o*S.damping,i/=S.mass,h[t]=y[t],y[t]+=o+i,e[t]=y[t],p(y[t],g[t],S.precision)&&!w.includes(t)&&w.push(t))}const c=b(),f={...c,velocity:o,acceleration:i,frame:n};1===n&&r({...c,frame:n});let d=Object.keys(g).every(e=>w.includes(e));S.completed||(l(f),a(f)&&(t.setState({...c}),s(f)),d&&(S.completed=!0,Object.keys(g).forEach(e=>{y[e]=g[e]}),u(f)))}},getValue:b,setValue:function(e){m=Object.keys(e),h=m.reduce((n,t)=>(n[t]=e[t],n),{}),y=m.reduce((n,t)=>(n[t]=e[t],n),{}),g={},w=[],S.completed=!1},to:function(e){Object.keys(e).forEach(n=>{let t=w.indexOf(n);t>=0&&w.splice(t,1),g[n]=e[n]}),S.completed=!1}};return S.setValue(e),S}(s,{...a,...t}),o.cfg=t,o.to(n),r(),o.pause=()=>{o.paused=!0,cancelAnimationFrame(i)},o.play=()=>{o.paused=!1,r()},o.stop=()=>{cancelAnimationFrame(i),o.play=d,o.completed=!0,c=1},o}}));
//# sourceMappingURL=springTo.min.js.map
