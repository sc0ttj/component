{"version":3,"file":"tweenState.min.js","sources":["../src/raf.js","../src/easings.js","../src/tweenState.js"],"sourcesContent":["var performance =\n  typeof process !== \"undefined\" && typeof require !== \"undefined\"\n    ? require(\"perf_hooks\").performance\n    : window.performance\n\nvar now = performance.now,\n  root = typeof window === \"undefined\" ? global : window,\n  vendors = [\"moz\", \"webkit\"],\n  suffix = \"AnimationFrame\",\n  raf = root[\"request\" + suffix],\n  caf = root[\"cancel\" + suffix] || root[\"cancelRequest\" + suffix]\n\nfor (var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + \"Request\" + suffix]\n  caf =\n    root[vendors[i] + \"Cancel\" + suffix] ||\n    root[vendors[i] + \"CancelRequest\" + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif (!raf || !caf) {\n  var last = 0,\n    id = 0,\n    queue = [],\n    frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if (queue.length === 0) {\n      var _now = now(),\n        next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for (var i = 0; i < cp.length; i++) {\n          if (!cp[i].cancelled) {\n            try {\n              cp[i].callback(last)\n            } catch (e) {\n              setTimeout(function() {\n                throw e\n              }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for (var i = 0; i < queue.length; i++) {\n      if (queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nif (typeof module !== \"undefined\") {\n  module.exports.raf = function(fn) {\n    // Wrap in a new function to prevent\n    // `cancel` potentially being assigned\n    // to the native rAF function\n    return raf.call(root, fn)\n  }\n  module.exports.cancel = function() {\n    caf.apply(root, arguments)\n  }\n  module.exports.polyfill = function(object) {\n    if (!object) {\n      object = root\n    }\n    object.requestAnimationFrame = raf\n    object.cancelAnimationFrame = caf\n  }\n}\n\nexport default function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\n","const easing = {\n  // no easing, no acceleration\n  linear: t => t,\n  // accelerating from zero velocity\n  inQuad: t => t * t,\n  // decelerating to zero velocity\n  outQuad: t => t * (2 - t),\n  // acceleration until halfway, then deceleration\n  inOutQuad: t => (t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t),\n  // accelerating from zero velocity\n  inCubic: t => t * t * t,\n  // decelerating to zero velocity\n  outCubic: t => --t * t * t + 1,\n  // acceleration until halfway, then deceleration\n  inOutCubic: t =>\n    t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n  // accelerating from zero velocity\n  inQuart: t => t * t * t * t,\n  // decelerating to zero velocity\n  outQuart: t => 1 - --t * t * t * t,\n  // acceleration until halfway, then deceleration\n  inOutQuart: t => (t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t),\n  // accelerating from zero velocity\n  inQuint: t => t * t * t * t * t,\n  // decelerating to zero velocity\n  outQuint: t => 1 + --t * t * t * t * t,\n  // acceleration until halfway, then deceleration\n  inOutQuint: t =>\n    t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t,\n  // elastic bounce effect at the beginning\n  inElastic: t => (0.04 - 0.04 / t) * Math.sin(25 * t) + 1,\n  // elastic bounce effect at the end\n  outElastic: t => ((0.04 * t) / --t) * Math.sin(25 * t),\n  // elastic bounce effect at the beginning and end\n  inOutElastic: t =>\n    (t -= 0.5) < 0\n      ? (0.02 + 0.01 / t) * Math.sin(50 * t)\n      : (0.02 - 0.01 / t) * Math.sin(50 * t) + 1,\n  // slight acceleration from zero to full speed\n  inSin: t => 1 + Math.sin((Math.PI / 2) * t - Math.PI / 2),\n  // slight deceleration at the end\n  outSin: t => Math.sin((Math.PI / 2) * t),\n  // slight acceleration at beginning and slight deceleration at end\n  inOutSin: t => (1 + Math.sin(Math.PI * t - Math.PI / 2)) / 2,\n  // Accelerate exponentially until finish\n  inExpo: t => {\n    if (t === 0) return 0\n    return Math.pow(2, 10 * (t - 1))\n  },\n  //\n  // Initial exponential acceleration slowing to stop\n  outExpo: function(t) {\n    if (t === 1) return 1\n    return -Math.pow(2, -10 * t) + 1\n  },\n  // Exponential acceleration and deceleration\n  inOutExpo: function(t) {\n    if (t === 0 || t === 1) return t\n    var scaledTime = t * 2\n    var scaledTime1 = scaledTime - 1\n    if (scaledTime < 1) return 0.5 * Math.pow(2, 10 * scaledTime1)\n    return 0.5 * (-Math.pow(2, -10 * scaledTime1) + 2)\n  },\n  // Slow movement backwards then fast snap to finish\n  inBack: function(t, magnitude) {\n    var m = typeof magnitude !== \"undefined\" ? magnitude : 1.70158\n    return t * t * ((m + 1) * t - m)\n  },\n  // Fast snap to backwards point then slow resolve to finish\n  outBack: function(t, magnitude) {\n    var m = typeof magnitude !== \"undefined\" ? magnitude : 1.70158\n    var scaledTime = t / 1 - 1\n    return scaledTime * scaledTime * ((m + 1) * scaledTime + m) + 1\n  },\n  // Slow movement backwards, fast snap to past finish, slow resolve to finish\n  inOutBack: function(t, magnitude = 1.70158) {\n    var scaledTime = t * 2\n    var scaledTime2 = scaledTime - 2\n    var s = magnitude * 1.525\n    if (scaledTime < 1)\n      return 0.5 * scaledTime * scaledTime * ((s + 1) * scaledTime - s)\n    return 0.5 * (scaledTime2 * scaledTime2 * ((s + 1) * scaledTime2 + s) + 2)\n  }\n}\n\nexport default easing\n","import raf from './raf.js'\nimport easing from \"./easings.js\"\n;(\"use strict\")\n\n\n// if no window.performance, use 'perf_hooks' module\n// (from https://stackoverflow.com/questions/23003252/window-performance-now-equivalent-in-nodejs)\nvar performance =\n  typeof process !== \"undefined\" && typeof require !== \"undefined\"\n    ? require(\"perf_hooks\").performance\n    : window.performance\n\n// if no requestAnimationFrame, use the 'raf' polyfill\nvar requestAnimationFrame =\n  typeof window !== \"undefined\" &&\n  typeof window.requestAnimationFrame !== \"undefined\"\n    ? window.requestAnimationFrame\n    : raf\n\n//\n//\n// ES5-loose (transpiled) version of\n// https://github.com/jeremenichelli/phena/blob/master/src/index.js\n//\n\nvar noop = function noop() {}\n\nvar now = function now() {\n  return performance && performance.now ? performance.now() : Date.now()\n}\n\nvar step = function step(context) {\n  var delay = context.delay,\n    from = context.from,\n    to = context.to,\n    duration = context.duration,\n    startTime = context.startTime,\n    easeFn = context.ease,\n    onUpdate = context.onUpdate,\n    onComplete = context.onComplete\n\n  var currentTime = now()\n  var elapsed = currentTime - startTime\n\n  if (delay >= elapsed) {\n    context.frame =\n      requestAnimationFrame(function() {\n        return step(context)\n      }) + 1\n    return\n  }\n\n  // calculate progress according to time and and easing\n  var progress = Math.min(1, (elapsed - delay) / duration)\n\n  // add progress to tween props\n  context.progress = progress\n\n  var values = from.length\n    ? from.map(function(val, index) {\n        var value = val + (to[index] - val) * easeFn(progress)\n        if (Number.isNaN(value)) {\n          value = val + (to[index] - val) * progress\n        }\n        return value\n      })\n    : (() => {\n        var value = from + (to - from) * easeFn(progress)\n        if (Number.isNaN(value)) {\n          value = from + (to - from) * progress\n        }\n        return value\n      })()\n\n  // EDIT by @sc0ttj - pass in the whole context, with values\n  onUpdate({ ...context, values }) // call complete callback or invoke new frame\n\n  // EDIT by @sc0ttj - pass in the whole context, with values\n  if (progress === 1) onComplete({ ...context, values })\n  else\n    context.frame =\n      requestAnimationFrame(function() {\n        return step(context)\n      }) + 1\n}\n\nvar Tween = /*#__PURE__*/ (function() {\n  function Tween(context) {\n    this._c = context\n    this._c.ease = easing[context.ease] || easing[ease]\n    this._c.onUpdate = context.onUpdate || noop\n    this._c.onComplete = context.onComplete || noop\n    this._c.delay = context.delay || 0\n    this._c.duration = context.duration || 200\n    if (!context.paused) this.start()\n  }\n\n  var _proto = Tween.prototype\n\n  _proto.start = function start() {\n    this._c.startTime = now()\n    step(this._c)\n  }\n\n  _proto.cancel = function cancel() {\n    cancelAnimationFrame(this._c.frame)\n  }\n\n  return Tween\n})()\n\n\n// for each property in newState, get the value from the given state\nconst getStateToTween = function(state, newState) {\n  const stateToTween = {}\n  Object.entries(state).forEach(entry => {\n    const key = entry[0];\n    const val = entry[1];\n    if (newState[key]) stateToTween[key] = val;\n  })\n  return stateToTween\n}\n\n// go through properties in the given state, add to the given array\nconst addValues = function(state, array) {\n  Object.keys(state).forEach((key, index) => {\n    if (typeof state[key] !== \"undefined\") {\n      if (typeof state[key] !== \"object\") {\n        array.push(state[key])\n        return\n      }\n      addValues(state[key], array)\n    }\n  })\n}\n\nconst setTweenedValues = function(state, vals) {\n  function reducer(obj, [key, val]) {\n    obj[key] = val\n    if (typeof val === \"number\") {\n      obj[key] = vals.shift()\n    } else if (typeof val === \"object\") {\n      obj[key] = Object.entries(val).reduce(reducer, {})\n    }\n    return obj\n  }\n  const tweenedState = Object.entries(state).reduce(reducer, {})\n  return tweenedState\n}\n\nconst tweenState = (self, newState, cfg) => {\n  // define default callbacks\n  var onStart = cfg.onStart ? cfg.onStart : noop\n  var onUpdate = cfg.onUpdate ? cfg.onUpdate : noop\n  var onComplete = cfg.onComplete ? cfg.onComplete : noop\n  var shouldSetState = cfg.shouldSetState ? cfg.shouldSetState : true\n  var onSetState = cfg.onSetState ? cfg.onSetState : noop\n\n  if (typeof shouldSetState === \"boolean\") shouldSetState = () => shouldSetState\n\n  cfg.frame = 1\n  cfg.frameTotal = Math.ceil((60 / 1000) * (cfg.delay + cfg.duration)) + 2\n\n  // get a state matching the shape of newState, but with values from self.state\n  var stateToTween = getStateToTween(self.state, newState)\n\n  var startValuesArr = []\n  var endValuesArr = []\n  // use current state values as start values\n  addValues(stateToTween, startValuesArr)\n  // use next state values as end values\n  addValues(newState, endValuesArr)\n\n  // execute the tween, set state on completion\n  var tween = new Tween({\n    from: startValuesArr || 0,\n    to: endValuesArr || 1,\n    paused: cfg.paused || false,\n    delay: cfg.delay || 0,\n    duration: cfg.duration || 200,\n    ease: cfg.ease || \"linear\",\n    frame: 1,\n    frameTotal: cfg.frameTotal || 1,\n    onUpdate: props => {\n      // make sure values is an array\n      var tweenedState = setTweenedValues(newState, [...props.values])\n      if (props.frame === 1) onStart(props)\n      // set current tween properties as the new state\n      if (shouldSetState(props)) {\n        self.setState(tweenedState)\n        onSetState(props)\n      }\n      return onUpdate({ ...props, tweenedState })\n    },\n    onComplete: props => {\n      self.setState(newState)\n      return onComplete(props)\n    }\n  })\n\n  return tween\n}\n\nexport default tweenState\n"],"names":["now","process","require","performance","window","root","global","vendors","suffix","raf","caf","i","length","last","id","queue","callback","_now","next","Math","max","setTimeout","cp","slice","cancelled","e","round","push","handle","module","exports","fn","call","cancel","apply","arguments","polyfill","object","requestAnimationFrame","cancelAnimationFrame","easing","linear","t","inQuad","outQuad","inOutQuad","inCubic","outCubic","inOutCubic","inQuart","outQuart","inOutQuart","inQuint","outQuint","inOutQuint","inElastic","sin","outElastic","inOutElastic","inSin","PI","outSin","inOutSin","inExpo","pow","outExpo","inOutExpo","scaledTime","scaledTime1","inBack","magnitude","m","outBack","inOutBack","scaledTime2","s","noop","Date","Tween","context","this","_c","ease","onUpdate","onComplete","delay","duration","paused","start","_proto","prototype","startTime","step","from","to","easeFn","elapsed","frame","progress","min","value","values","map","val","index","Number","isNaN","addValues","state","array","Object","keys","forEach","key","self","newState","cfg","onStart","shouldSetState","onSetState","frameTotal","ceil","stateToTween","entries","entry","getStateToTween","startValuesArr","endValuesArr","props","vals","tweenedState","reduce","reducer","obj","shift","setState"],"mappings":"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"}