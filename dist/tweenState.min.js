!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).tweenState=t()}(this,(function(){"use strict";for(var e=("undefined"!=typeof process&&"undefined"!=typeof require?require("perf_hooks").performance:window.performance).now,t="undefined"==typeof window?global:window,n=["moz","webkit"],o="AnimationFrame",a=t["request"+o],i=t["cancel"+o]||t["cancelRequest"+o],r=0;!a&&r<n.length;r++)a=t[n[r]+"Request"+o],i=t[n[r]+"Cancel"+o]||t[n[r]+"CancelRequest"+o];if(!a||!i){var u=0,c=0,f=[];a=function(t){if(0===f.length){var n=e(),o=Math.max(0,1e3/60-(n-u));u=o+n,setTimeout((function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(o))}return f.push({handle:++c,callback:t,cancelled:!1}),c},i=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}"undefined"!=typeof module&&(module.exports.raf=function(e){return a.call(t,e)},module.exports.cancel=function(){i.apply(t,arguments)},module.exports.polyfill=function(e){e||(e=t),e.requestAnimationFrame=a,e.cancelAnimationFrame=i});const s={linear:e=>e,inQuad:e=>e*e,outQuad:e=>e*(2-e),inOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,inCubic:e=>e*e*e,outCubic:e=>--e*e*e+1,inOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,inQuart:e=>e*e*e*e,outQuart:e=>1- --e*e*e*e,inOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,inQuint:e=>e*e*e*e*e,outQuint:e=>1+--e*e*e*e*e,inOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e,inElastic:e=>(.04-.04/e)*Math.sin(25*e)+1,outElastic:e=>.04*e/--e*Math.sin(25*e),inOutElastic:e=>(e-=.5)<0?(.02+.01/e)*Math.sin(50*e):(.02-.01/e)*Math.sin(50*e)+1,inSin:e=>1+Math.sin(Math.PI/2*e-Math.PI/2),outSin:e=>Math.sin(Math.PI/2*e),inOutSin:e=>(1+Math.sin(Math.PI*e-Math.PI/2))/2,inExpo:e=>0===e?0:Math.pow(2,10*(e-1)),outExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},inOutExpo:function(e){if(0===e||1===e)return e;var t=2*e,n=t-1;return t<1?.5*Math.pow(2,10*n):.5*(2-Math.pow(2,-10*n))},inBack:function(e,t){var n=void 0!==t?t:1.70158;return e*e*((n+1)*e-n)},outBack:function(e,t){var n=void 0!==t?t:1.70158,o=e/1-1;return o*o*((n+1)*o+n)+1},inOutBack:function(e,t=1.70158){var n=2*e,o=n-2,a=1.525*t;return n<1?.5*n*n*((a+1)*n-a):.5*(o*o*((a+1)*o+a)+2)}};var l="undefined"!=typeof process&&"undefined"!=typeof require?require("perf_hooks").performance:window.performance,d="undefined"!=typeof window&&void 0!==window.requestAnimationFrame?window.requestAnimationFrame:function(e){return a.call(t,e)},p=function(){},h=function(){return l&&l.now?l.now():Date.now()},m=function(){function e(e){this._c=e,this._c.ease=s[e.ease]||s[ease],this._c.onUpdate=e.onUpdate||p,this._c.onComplete=e.onComplete||p,this._c.delay=e.delay||0,this._c.duration=e.duration||200,e.paused||this.start()}var t=e.prototype;return t.start=function(){this._c.startTime=h(),function e(t){var n=t.delay,o=t.from,a=t.to,i=t.duration,r=t.startTime,u=t.ease,c=t.onUpdate,f=t.onComplete,s=h()-r;if(n>=s)t.frame=d((function(){return e(t)}))+1;else{var l=Math.min(1,(s-n)/i);t.progress=l;var p,m=o.length?o.map((function(e,t){var n=e+(a[t]-e)*u(l);return Number.isNaN(n)&&(n=e+(a[t]-e)*l),n})):(p=o+(a-o)*u(l),Number.isNaN(p)&&(p=o+(a-o)*l),p);c({...t,values:m}),1===l?f({...t,values:m}):t.frame=d((function(){return e(t)}))+1}}(this._c)},t.cancel=function(){cancelAnimationFrame(this._c.frame)},e}();const v=function(e,t){Object.keys(e).forEach((n,o)=>{if(void 0!==e[n]){if("object"!=typeof e[n])return void t.push(e[n]);v(e[n],t)}})};return(e,t,n)=>{var o=n.onStart?n.onStart:p,a=n.onUpdate?n.onUpdate:p,i=n.onComplete?n.onComplete:p,r=!n.shouldSetState||n.shouldSetState,u=n.onSetState?n.onSetState:p;"boolean"==typeof r&&(r=()=>r),n.frame=1,n.frameTotal=Math.ceil(.06*(n.delay+n.duration))+2;var c=function(e,t){const n={};return Object.entries(e).forEach(e=>{const o=e[0],a=e[1];t[o]&&(n[o]=a)}),n}(e.state,t),f=[],s=[];return v(c,f),v(t,s),new m({from:f||0,to:s||1,paused:n.paused||!1,delay:n.delay||0,duration:n.duration||200,ease:n.ease||"linear",frame:1,frameTotal:n.frameTotal||1,onUpdate:n=>{var i,c,f=(i=t,c=[...n.values],Object.entries(i).reduce((function e(t,[n,o]){return t[n]=o,"number"==typeof o?t[n]=c.shift():"object"==typeof o&&(t[n]=Object.entries(o).reduce(e,{})),t}),{}));return 1===n.frame&&o(n),r(n)&&(e.setState(f),u(n)),a({...n,tweenedState:f})},onComplete:n=>(e.setState(t),i(n))})}}));
//# sourceMappingURL=tweenState.min.js.map
