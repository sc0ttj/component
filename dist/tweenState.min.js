!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).tweenState=t()}(this,(function(){"use strict";for(var e=("undefined"!=typeof process&&"undefined"!=typeof require?require("perf_hooks").performance:window.performance).now,t="undefined"==typeof window?global:window,n=["moz","webkit"],o="AnimationFrame",i=t["request"+o],a=t["cancel"+o]||t["cancelRequest"+o],r=0;!i&&r<n.length;r++)i=t[n[r]+"Request"+o],a=t[n[r]+"Cancel"+o]||t[n[r]+"CancelRequest"+o];if(!i||!a){var u=0,c=0,f=[];i=function(t){if(0===f.length){var n=e(),o=Math.max(0,1e3/60-(n-u));u=o+n,setTimeout((function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(o))}return f.push({handle:++c,callback:t,cancelled:!1}),c},a=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}"undefined"!=typeof module&&(module.exports.raf=function(e){return i.call(t,e)},module.exports.cancel=function(){a.apply(t,arguments)},module.exports.polyfill=function(e){e||(e=t),e.requestAnimationFrame=i,e.cancelAnimationFrame=a});var s={linear:e=>e,inQuad:e=>e*e,outQuad:e=>e*(2-e),inOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,inCubic:e=>e*e*e,outCubic:e=>--e*e*e+1,inOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,inQuart:e=>e*e*e*e,outQuart:e=>1- --e*e*e*e,inOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,inQuint:e=>e*e*e*e*e,outQuint:e=>1+--e*e*e*e*e,inOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e,inElastic:e=>(.04-.04/e)*Math.sin(25*e)+1,outElastic:e=>.04*e/--e*Math.sin(25*e),inOutElastic:e=>(e-=.5)<0?(.02+.01/e)*Math.sin(50*e):(.02-.01/e)*Math.sin(50*e)+1,inSin:e=>1+Math.sin(Math.PI/2*e-Math.PI/2),outSin:e=>Math.sin(Math.PI/2*e),inOutSin:e=>(1+Math.sin(Math.PI*e-Math.PI/2))/2,inExpo:e=>0===e?0:Math.pow(2,10*(e-1)),outExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},inOutExpo:function(e){if(0===e||1===e)return e;var t=2*e,n=t-1;return t<1?.5*Math.pow(2,10*n):.5*(2-Math.pow(2,-10*n))},inBack:function(e,t){var n=void 0!==t?t:1.70158;return e*e*((n+1)*e-n)},outBack:function(e,t){var n=void 0!==t?t:1.70158,o=e/1-1;return o*o*((n+1)*o+n)+1},inOutBack:function(e,t=1.70158){var n=2*e,o=n-2,i=1.525*t;return n<1?.5*n*n*((i+1)*n-i):.5*(o*o*((i+1)*o+i)+2)}},d="undefined"!=typeof process&&"undefined"!=typeof require?require("perf_hooks").performance:window.performance,l="undefined"!=typeof window&&void 0!==window.requestAnimationFrame?window.requestAnimationFrame:function(e){return i.call(t,e)},p=function(){},m=function(){return d&&d.now?d.now():Date.now()},h=function(){function e(e){this._c=e,this._c.ease=s[e.ease]||s[ease],this._c.onUpdate=e.onUpdate||p,this._c.onComplete=e.onComplete||p,this._c.delay=e.delay||0,e.paused||this.start()}var t=e.prototype;return t.start=function(){this._c.startTime=m(),function e(t){var n=t.delay,o=t.from,i=t.to,a=t.duration,r=t.startTime,u=t.ease,c=t.onUpdate,f=t.onComplete,s=m()-r;if(n>=s)t.frame=l((function(){return e(t)}));else{var d,p=Math.min(1,(s-n)/a),h=o.length?o.map((function(e,t){var n=e+(i[t]-e)*u(p);return Number.isNaN(n)&&(n=e+(i[t]-e)*p),n})):(d=o+(i-o)*u(p),Number.isNaN(d)&&(d=o+(i-o)*p),d);c({...t,values:h}),1===p?f({...t,values:h}):t.frame=l((function(){return e(t)}))}}(this._c)},t.cancel=function(){cancelAnimationFrame(this._c.frame)},e}();return(e,t,n)=>{var o=n.onUpdate?n.onUpdate:e=>e,i=n.onComplete?n.onComplete:()=>null;function a(e,t){Object.keys(e).forEach((n,o)=>{if(void 0!==e[n]){if("object"!=typeof e[n])return void(Number.isNaN(e[n])||t.push(e[n]));Number.isNaN(e[n])||a(e[n],t)}})}var r=[],u=[];return a(function(e){var n={};return Object.entries(e).forEach(e=>{var o=e[0],i=e[1];t[o]&&(n[o]=i)}),n}(e.state),r),a(t,u),new h({from:r||0,to:u||1,paused:n.paused||!1,delay:n.delay||0,duration:n.duration||250,ease:n.ease||"none",onUpdate:n=>{var i,a,r=(i=t,a=[...n.values],Object.entries(i).reduce((function e(t,[n,o]){return t[n]=o,"number"==typeof o?t[n]=a.shift():"object"==typeof o&&(t[n]=Object.entries(o).reduce(e,{})),t}),{}));return e.setState(r),o({...n,tweenedState:r})},onComplete:t=>(e.setState({}),i(t))})}}));
