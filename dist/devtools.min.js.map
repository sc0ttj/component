{"version":3,"file":"devtools.min.js","sources":["../src/devtools.js"],"sourcesContent":["var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\"\n  ? function JSONTreeView(obj) { return typeof obj; }\n  : function JSONTreeView(obj) {\n      return obj\n        && typeof Symbol === \"function\"\n        && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n    };\n\n// from https://github.com/Olical/EventEmitter/\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\nEventEmitter.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n\n// from https://github.com/luyuan/json-tree-view\nfunction JSONTreeView(name_, value_, parent_, isRoot_) {\n\tvar self = this;\n\n\tif (typeof isRoot_ === 'undefined' && arguments.length < 4) {\n\t\tisRoot_ = true;\n\t}\n\n  // use the event emitter above, not the node one\n  var EE = new EventEmitter();\n  // need to add these lines too\n  EventEmitter.call(self);\n  self.emit = EventEmitter.prototype.emit;\n  self.on = EventEmitter.prototype.on;\n  self.removeAllListeners = EventEmitter.prototype.removeAllListeners;\n\n\tif (arguments.length < 2) {\n\t\tvalue_ = name_;\n\t\tname_ = undefined;\n\t}\n\n\tvar name,\n\t    value,\n\t    type,\n\t    oldType = null,\n\t    filterText = '',\n\t    hidden = false,\n\t    readonly = parent_ ? parent_.readonly : false,\n\t    readonlyWhenFiltering = parent_ ? parent_.readonlyWhenFiltering : false,\n\t    alwaysShowRoot = false,\n\t    showCount = parent_ ? parent_.showCountOfObjectOrArray : true,\n\t    includingRootName = true,\n\t    domEventListeners = [],\n\t    children = [],\n\t    expanded = false,\n\t    edittingName = false,\n\t    edittingValue = false,\n\t    nameEditable = true,\n\t    valueEditable = true;\n\n\tvar dom = {\n\t\tcontainer: document.createElement('div'),\n\t\tcollapseExpand: document.createElement('div'),\n\t\tname: document.createElement('div'),\n\t\tseparator: document.createElement('div'),\n\t\tvalue: document.createElement('div'),\n\t\tspacing: document.createElement('div'),\n\t\tdelete: document.createElement('div'),\n\t\tchildren: document.createElement('div'),\n\t\tinsert: document.createElement('div')\n\t};\n\n\tObject.defineProperties(self, {\n\n\t\tdom: {\n\t\t\tvalue: dom.container,\n\t\t\tenumerable: true\n\t\t},\n\n\t\tisRoot: {\n\t\t\tget: function get() {\n\t\t\t\treturn isRoot_;\n\t\t\t}\n\t\t},\n\n\t\tparent: {\n\t\t\tget: function get() {\n\t\t\t\treturn parent_;\n\t\t\t}\n\t\t},\n\n\t\tchildren: {\n\t\t\tget: function get() {\n\t\t\t\tvar result = null;\n\t\t\t\tif (type === 'array') {\n\t\t\t\t\tresult = children;\n\t\t\t\t} else if (type === 'object') {\n\t\t\t\t\tresult = {};\n\t\t\t\t\tchildren.forEach(function (e) {\n\t\t\t\t\t\tresult[e.name] = e;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}\n\t\t},\n\n\t\treadonly: {\n\t\t\tget: function get() {\n\t\t\t\treturn !!(readonly & 1);\n\t\t\t},\n\t\t\tset: function set(ro) {\n\t\t\t\treadonly = setBit(readonly, 0, +ro);\n\t\t\t\t!!(readonly & 1) ? dom.container.classList.add('readonly') : dom.container.classList.remove('readonly');\n\t\t\t\tfor (var i in children) {\n\t\t\t\t\tif (_typeof(children[i]) === 'object') {\n\t\t\t\t\t\tchildren[i].readonly = setBit(readonly, 0, +ro);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\treadonlyWhenFiltering: {\n\t\t\tget: function get() {\n\t\t\t\treturn readonlyWhenFiltering;\n\t\t\t},\n\t\t\tset: function set(rowf) {\n\t\t\t\treadonly = setBit(readonly, 1, +rowf);\n\t\t\t\treadonlyWhenFiltering = rowf;\n\t\t\t\treadonly && this.filterText || !!(readonly & 1) ? dom.container.classList.add('readonly') : dom.container.classList.remove('readonly');\n\t\t\t\tfor (var i in children) {\n\t\t\t\t\tif (_typeof(children[i]) === 'object') {\n\t\t\t\t\t\tchildren[i].readonly = setBit(readonly, 1, +rowf);\n\t\t\t\t\t\tchildren[i].readonlyWhenFiltering = rowf;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\thidden: {\n\t\t\tget: function get() {\n\t\t\t\treturn hidden;\n\t\t\t},\n\t\t\tset: function set(h) {\n\t\t\t\thidden = h;\n\t\t\t\th ? dom.container.classList.add('hidden') : dom.container.classList.remove('hidden');\n\t\t\t\tif (!h) {\n\t\t\t\t\tparent_ && (parent_.hidden = h);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tshowCountOfObjectOrArray: {\n\t\t\tget: function get() {\n\t\t\t\treturn showCount;\n\t\t\t},\n\t\t\tset: function set(show) {\n\t\t\t\tshowCount = show;\n\t\t\t\tfor (var i in children) {\n\t\t\t\t\tif (_typeof(children[i]) === 'object') {\n\t\t\t\t\t\tchildren[i].showCountOfObjectOrArray = show;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t(this.type === 'object' || this.type === 'array') && this.updateCount();\n\t\t\t}\n\t\t},\n\n\t\tfilterText: {\n\t\t\tget: function get() {\n\t\t\t\treturn filterText;\n\t\t\t},\n\t\t\tset: function set(text) {\n\t\t\t\tfilterText = text;\n\t\t\t\tif (text) {\n\t\t\t\t\tif (readonly > 0) {\n\t\t\t\t\t\tdom.container.classList.add('readonly');\n\t\t\t\t\t}\n\t\t\t\t\tvar key = this.name + '';\n\t\t\t\t\tvar value = this.value + '';\n\t\t\t\t\tif (this.type === 'object' || this.type === 'array') {\n\t\t\t\t\t\tvalue = '';\n\t\t\t\t\t}\n\t\t\t\t\tif (key.indexOf(text) > -1 || value.indexOf(text) > -1) {\n\t\t\t\t\t\tthis.hidden = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!this.alwaysShowRoot || !isRoot_) {\n\t\t\t\t\t\t\tthis.hidden = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t!this.readonly && dom.container.classList.remove('readonly');\n\t\t\t\t\tthis.hidden = false;\n\t\t\t\t}\n\t\t\t\tfor (var i in children) {\n\t\t\t\t\tif (_typeof(children[i]) === 'object') {\n\t\t\t\t\t\tchildren[i].filterText = text;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\talwaysShowRoot: {\n\t\t\tget: function get() {\n\t\t\t\treturn alwaysShowRoot;\n\t\t\t},\n\t\t\tset: function set(value) {\n\t\t\t\tif (isRoot_ && this.filterText) {\n\t\t\t\t\tthis.hidden = !value;\n\t\t\t\t}\n\t\t\t\talwaysShowRoot = value;\n\t\t\t\tfor (var i in children) {\n\t\t\t\t\tif (_typeof(children[i]) === 'object') {\n\t\t\t\t\t\tchildren[i].alwaysShowRoot = value;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\twithRootName: {\n\t\t\tget: function get() {\n\t\t\t\treturn includingRootName;\n\t\t\t},\n\t\t\tset: function set(value) {\n\t\t\t\tincludingRootName = value;\n\t\t\t}\n\t\t},\n\n\t\tname: {\n\t\t\tget: function get() {\n\t\t\t\treturn name;\n\t\t\t},\n\n\t\t\tset: setName,\n\t\t\tenumerable: true\n\t\t},\n\n\t\tvalue: {\n\t\t\tget: function get() {\n\t\t\t\treturn value;\n\t\t\t},\n\n\t\t\tset: setValue,\n\t\t\tenumerable: true\n\t\t},\n\n\t\ttype: {\n\t\t\tget: function get() {\n\t\t\t\treturn type;\n\t\t\t},\n\n\t\t\tenumerable: true\n\t\t},\n\n\t\toldType: {\n\t\t\tget: function get() {\n\t\t\t\treturn oldType;\n\t\t\t},\n\n\t\t\tenumerable: true\n\t\t},\n\n\t\tnameEditable: {\n\t\t\tget: function get() {\n\t\t\t\treturn nameEditable;\n\t\t\t},\n\n\t\t\tset: function set(value) {\n\t\t\t\tnameEditable = !!value;\n\t\t\t},\n\n\t\t\tenumerable: true\n\t\t},\n\n\t\tvalueEditable: {\n\t\t\tget: function get() {\n\t\t\t\treturn valueEditable;\n\t\t\t},\n\n\t\t\tset: function set(value) {\n\t\t\t\tvalueEditable = !!value;\n\t\t\t},\n\n\t\t\tenumerable: true\n\t\t},\n\n\t\trefresh: {\n\t\t\tvalue: refresh,\n\t\t\tenumerable: true\n\t\t},\n\n\t\tupdateCount: {\n\t\t\tvalue: updateObjectChildCount,\n\t\t\tenumerable: true\n\t\t},\n\n\t\tcollapse: {\n\t\t\tvalue: collapse,\n\t\t\tenumerable: true\n\t\t},\n\n\t\texpand: {\n\t\t\tvalue: expand,\n\t\t\tenumerable: true\n\t\t},\n\n\t\tdestroy: {\n\t\t\tvalue: destroy,\n\t\t\tenumerable: true\n\t\t},\n\n\t\teditName: {\n\t\t\tvalue: editField.bind(null, 'name'),\n\t\t\tenumerable: true\n\t\t},\n\n\t\teditValue: {\n\t\t\tvalue: editField.bind(null, 'value'),\n\t\t\tenumerable: true\n\t\t}\n\n\t});\n\n\tObject.keys(dom).forEach(function (k) {\n\t\tif (k === 'delete' && self.isRoot) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar element = dom[k];\n\n\t\tif (k == 'container') {\n\t\t\treturn;\n\t\t}\n\n\t\telement.className = k;\n\t\tif (['name', 'separator', 'value', 'spacing'].indexOf(k) > -1) {\n\t\t\telement.className += ' item';\n\t\t}\n\t\tdom.container.appendChild(element);\n\t});\n\n\tdom.container.className = 'jsonView';\n\n\taddDomEventListener(dom.collapseExpand, 'click', onCollapseExpandClick);\n\taddDomEventListener(dom.value, 'click', expand.bind(null, false));\n\taddDomEventListener(dom.name, 'click', expand.bind(null, false));\n\n\taddDomEventListener(dom.name, 'dblclick', editField.bind(null, 'name'));\n\taddDomEventListener(dom.name, 'click', itemClicked.bind(null, 'name'));\n\taddDomEventListener(dom.name, 'blur', editFieldStop.bind(null, 'name'));\n\taddDomEventListener(dom.name, 'keypress', editFieldKeyPressed.bind(null, 'name'));\n\taddDomEventListener(dom.name, 'keydown', editFieldTabPressed.bind(null, 'name'));\n\n\taddDomEventListener(dom.value, 'dblclick', editField.bind(null, 'value'));\n\taddDomEventListener(dom.value, 'click', itemClicked.bind(null, 'value'));\n\taddDomEventListener(dom.value, 'blur', editFieldStop.bind(null, 'value'));\n\taddDomEventListener(dom.value, 'keypress', editFieldKeyPressed.bind(null, 'value'));\n\taddDomEventListener(dom.value, 'keydown', editFieldTabPressed.bind(null, 'value'));\n\taddDomEventListener(dom.value, 'keydown', numericValueKeyDown);\n\n\taddDomEventListener(dom.insert, 'click', onInsertClick);\n\taddDomEventListener(dom.delete, 'click', onDeleteClick);\n\n\tsetName(name_);\n\tsetValue(value_);\n\n\tfunction setBit(n, i, b) {\n\t\tvar j = 0;\n\t\twhile (n >> j << j) {\n\t\t\tj++;\n\t\t}\n\t\treturn i >= j ? n | +b << i : n >> i + 1 << i + 1 | n % (n >> i << i) | +b << i;\n\t}\n\n\tfunction squarebracketify(exp) {\n\t\treturn typeof exp === 'string' ? exp.replace(/\\.([0-9]+)/g, '[$1]') : exp + '';\n\t}\n\n\tfunction refresh(silent) {\n\t\tvar expandable = type == 'object' || type == 'array';\n\n\t\tchildren.forEach(function (child) {\n\t\t\tchild.refresh(true);\n\t\t});\n\n\t\tdom.collapseExpand.style.display = expandable ? '' : 'none';\n\n\t\tif (expanded && expandable) {\n\t\t\texpand(false, silent);\n\t\t} else {\n\t\t\tcollapse(false, silent);\n\t\t}\n\t\tif (!silent) {\n\t\t\tself.emit('refresh', self, [self.name], self.value);\n\t\t}\n\t}\n\n\tfunction collapse(recursive, silent) {\n\t\tif (recursive) {\n\t\t\tchildren.forEach(function (child) {\n\t\t\t\tchild.collapse(true, true);\n\t\t\t});\n\t\t}\n\n\t\texpanded = false;\n\n\t\tdom.children.style.display = 'none';\n\t\tdom.collapseExpand.className = 'expand';\n\t\tdom.container.classList.add('collapsed');\n\t\tdom.container.classList.remove('expanded');\n\t\tif (!silent && (type == 'object' || type == 'array')) {\n\t\t\tself.emit('collapse', self, [self.name], self.value);\n\t\t}\n\t}\n\n\tfunction expand(recursive, silent) {\n\t\tvar keys;\n\n\t\tif (type == 'object') {\n\t\t\tkeys = Object.keys(value);\n\t\t} else if (type == 'array') {\n\t\t\tkeys = value.map(function (v, k) {\n\t\t\t\treturn k;\n\t\t\t});\n\t\t} else {\n\t\t\tkeys = [];\n\t\t}\n\n\t\t// Remove children that no longer exist\n\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\tvar child = children[i];\n\t\t\tif (!child) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (keys.indexOf(child.name) == -1) {\n\t\t\t\tchildren.splice(i, 1);\n\t\t\t\tremoveChild(child);\n\t\t\t}\n\t\t}\n\n\t\tif (type != 'object' && type != 'array') {\n\t\t\treturn collapse();\n\t\t}\n\n\t\tkeys.forEach(function (key) {\n\t\t\taddChild(key, value[key]);\n\t\t});\n\n\t\tif (recursive) {\n\t\t\tchildren.forEach(function (child) {\n\t\t\t\tchild.expand(true, true);\n\t\t\t});\n\t\t}\n\n\t\texpanded = true;\n\t\tdom.children.style.display = '';\n\t\tdom.collapseExpand.className = 'collapse';\n\t\tdom.container.classList.add('expanded');\n\t\tdom.container.classList.remove('collapsed');\n\t\tif (!silent && (type == 'object' || type == 'array')) {\n\t\t\tself.emit('expand', self, [self.name], self.value);\n\t\t}\n\t}\n\n\tfunction destroy() {\n\t\tvar child, event;\n\n\t\twhile (event = domEventListeners.pop()) {\n\t\t\tevent.element.removeEventListener(event.name, event.fn);\n\t\t}\n\n\t\twhile (child = children.pop()) {\n\t\t\tremoveChild(child);\n\t\t}\n\t}\n\n\tfunction setName(newName) {\n\t\tvar nameType = typeof newName === 'undefined' ? 'undefined' : _typeof(newName),\n\t\t    oldName = name;\n\n\t\tif (newName === name) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (nameType != 'string' && nameType != 'number') {\n\t\t\tthrow new Error('Name must be either string or number, ' + newName);\n\t\t}\n\n\t\tdom.name.innerText = newName;\n\t\tname = newName;\n\t\tself.emit('rename', self, [name], oldName, newName, true);\n\t}\n\n\tfunction setValue(newValue) {\n\t\tvar oldValue = value,\n\t\t    str,\n\t\t    len;\n\n\t\tif (isRoot_ && !oldValue) {\n\t\t\toldValue = newValue;\n\t\t}\n\t\ttype = getType(newValue);\n\t\toldType = oldValue ? getType(oldValue) : type;\n\n\t\tswitch (type) {\n\t\t\tcase 'null':\n\t\t\t\tstr = 'null';\n\t\t\t\tbreak;\n\t\t\tcase 'undefined':\n\t\t\t\tstr = 'undefined';\n\t\t\t\tbreak;\n\t\t\tcase 'object':\n\t\t\t\tlen = Object.keys(newValue).length;\n\t\t\t\tstr = showCount ? 'Object[' + len + ']' : len < 1 ? '{}' : '';\n\t\t\t\tbreak;\n\n\t\t\tcase 'array':\n\t\t\t\tlen = newValue.length;\n\t\t\t\tstr = showCount ? 'Array[' + len + ']' : len < 1 ? '[]' : '';\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tstr = newValue;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tdom.value.innerText = str;\n\t\tdom.value.className = 'value item ' + type;\n\n\t\tif (newValue === value) {\n\t\t\treturn;\n\t\t}\n\n\t\tvalue = newValue;\n\n\t\tif (type == 'array' || type == 'object') {\n\t\t\t// Cannot edit objects as string because the formatting is too messy\n\t\t\t// Would have to either pass as JSON and force user to wrap properties in quotes\n\t\t\t// Or first JSON stringify the input before passing, this could allow users to reference globals\n\n\t\t\t// Instead the user can modify individual properties, or just delete the object and start again\n\t\t\tvalueEditable = false;\n\n\t\t\tif (type == 'array') {\n\t\t\t\t// Obviously cannot modify array keys\n\t\t\t\tnameEditable = false;\n\t\t\t}\n\t\t}\n\n\t\tself.emit('change', self, [name], oldValue, newValue);\n\t\trefresh();\n\t}\n\n\tfunction updateObjectChildCount() {\n\t\tvar str = '',\n\t\t    len;\n\t\tif (type === 'object') {\n\t\t\tlen = Object.keys(value).length;\n\t\t\tstr = showCount ? 'Object[' + len + ']' : len < 1 ? '{}' : '';\n\t\t}\n\t\tif (type === 'array') {\n\t\t\tlen = value.length;\n\t\t\tstr = showCount ? 'Array[' + len + ']' : len < 1 ? '[]' : '';\n\t\t}\n\t\tdom.value.innerText = str;\n\t}\n\n\tfunction addChild(key, val) {\n\t\tvar child;\n\n\t\tfor (var i = 0, len = children.length; i < len; i++) {\n\t\t\tif (children[i].name == key) {\n\t\t\t\tchild = children[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (child) {\n\t\t\tchild.value = val;\n\t\t} else {\n\t\t\tchild = new JSONTreeView(key, val, self, false);\n\t\t\tchild.on('rename', onChildRename);\n\t\t\tchild.on('delete', onChildDelete);\n\t\t\tchild.on('change', onChildChange);\n\t\t\tchild.on('append', onChildAppend);\n\t\t\tchild.on('click', onChildClick);\n\t\t\tchild.on('expand', onChildExpand);\n\t\t\tchild.on('collapse', onChildCollapse);\n\t\t\tchild.on('refresh', onChildRefresh);\n\t\t\tchildren.push(child);\n\t\t\tchild.emit('append', child, [key], 'value', val, true);\n\t\t}\n\n\t\tdom.children.appendChild(child.dom);\n\n\t\treturn child;\n\t}\n\n\tfunction removeChild(child) {\n\t\tif (child.dom.parentNode) {\n\t\t\tdom.children.removeChild(child.dom);\n\t\t}\n\n\t\tchild.destroy();\n\t\tchild.emit('delete', child, [child.name], child.value, child.parent.isRoot ? child.parent.oldType : child.parent.type, true);\n\t\tchild.removeAllListeners();\n\t}\n\n\tfunction editField(field) {\n\t\tif (readonly > 0 && filterText || !!(readonly & 1)) {\n\t\t\treturn;\n\t\t}\n\t\tif (field === 'value' && (type === 'object' || type === 'array')) {\n\t\t\treturn;\n\t\t}\n\t\tif (parent_ && parent_.type == 'array') {\n\t\t\t// Obviously cannot modify array keys\n\t\t\tnameEditable = false;\n\t\t}\n\t\tvar editable = field == 'name' ? nameEditable : valueEditable,\n\t\t    element = dom[field];\n\n\t\tif (!editable && parent_ && parent_.type === 'array') {\n\t\t\tif (!parent_.inserting) {\n\t\t\t\t// throw new Error('Cannot edit an array index.');\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (field == 'value' && type == 'string') {\n\t\t\telement.innerText = '\"' + value + '\"';\n\t\t}\n\n\t\tif (field == 'name') {\n\t\t\tedittingName = true;\n\t\t}\n\n\t\tif (field == 'value') {\n\t\t\tedittingValue = true;\n\t\t}\n\n\t\telement.classList.add('edit');\n\t\telement.setAttribute('contenteditable', true);\n\t\telement.focus();\n\t\tdocument.execCommand('selectAll', false, null);\n\t}\n\n\tfunction itemClicked(field) {\n\t\tself.emit('click', self, !self.withRootName && self.isRoot ? [''] : [self.name], self.value);\n\t}\n\n\tfunction editFieldStop(field) {\n\t\tvar element = dom[field];\n\n\t\tif (field == 'name') {\n\t\t\tif (!edittingName) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tedittingName = false;\n\t\t}\n\n\t\tif (field == 'value') {\n\t\t\tif (!edittingValue) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tedittingValue = false;\n\t\t}\n\n\t\tif (field == 'name') {\n\t\t\tvar p = self.parent;\n\t\t\tvar edittingNameText = element.innerText;\n\t\t\tif (p && p.type === 'object' && edittingNameText in p.value) {\n\t\t\t\telement.innerText = name;\n\t\t\t\telement.classList.remove('edit');\n\t\t\t\telement.removeAttribute('contenteditable');\n\t\t\t\t// throw new Error('Name exist, ' + edittingNameText);\n\t\t\t} else {\n\t\t\t\tsetName.call(self, edittingNameText);\n\t\t\t}\n\t\t} else {\n\t\t\tvar text = element.innerText;\n\t\t\ttry {\n\t\t\t\tsetValue(text === 'undefined' ? undefined : JSON.parse(text));\n\t\t\t} catch (err) {\n\t\t\t\tsetValue(text);\n\t\t\t}\n\t\t}\n\n\t\telement.classList.remove('edit');\n\t\telement.removeAttribute('contenteditable');\n\t}\n\n\tfunction editFieldKeyPressed(field, e) {\n\t\tswitch (e.key) {\n\t\t\tcase 'Escape':\n\t\t\tcase 'Enter':\n\t\t\t\teditFieldStop(field);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tfunction editFieldTabPressed(field, e) {\n\t\tif (e.key == 'Tab') {\n\t\t\teditFieldStop(field);\n\n\t\t\tif (field == 'name') {\n\t\t\t\te.preventDefault();\n\t\t\t\teditField('value');\n\t\t\t} else {\n\t\t\t\teditFieldStop(field);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction numericValueKeyDown(e) {\n\t\tvar increment = 0,\n\t\t    currentValue;\n\n\t\tif (type != 'number') {\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (e.key) {\n\t\t\tcase 'ArrowDown':\n\t\t\tcase 'Down':\n\t\t\t\tincrement = -1;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ArrowUp':\n\t\t\tcase 'Up':\n\t\t\t\tincrement = 1;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tif (e.shiftKey) {\n\t\t\tincrement *= 10;\n\t\t}\n\n\t\tif (e.ctrlKey || e.metaKey) {\n\t\t\tincrement /= 10;\n\t\t}\n\n\t\tif (increment) {\n\t\t\tcurrentValue = parseFloat(dom.value.innerText);\n\n\t\t\tif (!isNaN(currentValue)) {\n\t\t\t\tsetValue(Number((currentValue + increment).toFixed(10)));\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getType(value) {\n\t\tvar type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n\n\t\tif (type == 'object') {\n\t\t\tif (value === null) {\n\t\t\t\treturn 'null';\n\t\t\t}\n\n\t\t\tif (Array.isArray(value)) {\n\t\t\t\treturn 'array';\n\t\t\t}\n\t\t}\n\t\tif (type === 'undefined') {\n\t\t\treturn 'undefined';\n\t\t}\n\n\t\treturn type;\n\t}\n\n\tfunction onCollapseExpandClick() {\n\t\tif (expanded) {\n\t\t\tcollapse();\n\t\t} else {\n\t\t\texpand();\n\t\t}\n\t}\n\n\tfunction onInsertClick() {\n\t\tvar newName = type == 'array' ? value.length : undefined,\n\t\t    child = addChild(newName, null);\n\t\tif (child.parent) {\n\t\t\tchild.parent.inserting = true;\n\t\t}\n\t\tif (type == 'array') {\n\t\t\tvalue.push(null);\n\t\t\tchild.editValue();\n\t\t\tchild.emit('append', self, [value.length - 1], 'value', null, true);\n\t\t\tif (child.parent) {\n\t\t\t\tchild.parent.inserting = false;\n\t\t\t}\n\t\t} else {\n\t\t\tchild.editName();\n\t\t}\n\t}\n\n\tfunction onDeleteClick() {\n\t\tself.emit('delete', self, [self.name], self.value, self.parent.isRoot ? self.parent.oldType : self.parent.type, false);\n\t}\n\n\tfunction onChildRename(child, keyPath, oldName, newName, original) {\n\t\tvar allow = newName && type != 'array' && !(newName in value) && original;\n\t\tif (allow) {\n\t\t\tvalue[newName] = child.value;\n\t\t\tdelete value[oldName];\n\t\t\tif (self.inserting) {\n\t\t\t\tchild.emit('append', child, [newName], 'name', newName, true);\n\t\t\t\tself.inserting = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else if (oldName === undefined) {\n\t\t\t// A new node inserted via the UI\n\t\t\toriginal && removeChild(child);\n\t\t} else if (original) {\n\t\t\t// Cannot rename array keys, or duplicate object key names\n\t\t\tchild.name = oldName;\n\t\t\treturn;\n\t\t}\n\t\t// value[keyPath] = newName;\n\n\t\t// child.once('rename', onChildRename);\n\n\t\tif (self.withRootName || !self.isRoot) {\n\t\t\tkeyPath.unshift(name);\n\t\t} else if (self.withRootName && self.isRoot) {\n\t\t\tkeyPath.unshift(name);\n\t\t}\n\t\tif (oldName !== undefined) {\n\t\t\tself.emit('rename', child, keyPath, oldName, newName, false);\n\t\t}\n\t}\n\n\tfunction onChildAppend(child, keyPath, nameOrValue, newValue, sender) {\n\t\tif (self.withRootName || !self.isRoot) {\n\t\t\tkeyPath.unshift(name);\n\t\t}\n\t\tself.emit('append', child, keyPath, nameOrValue, newValue, false);\n\t\tsender && updateObjectChildCount();\n\t}\n\n\tfunction onChildChange(child, keyPath, oldValue, newValue, recursed) {\n\t\tif (!recursed) {\n\t\t\tvalue[keyPath] = newValue;\n\t\t}\n\n\t\tif (self.withRootName || !self.isRoot) {\n\t\t\tkeyPath.unshift(name);\n\t\t}\n\t\tself.emit('change', child, keyPath, oldValue, newValue, true);\n\t}\n\n\tfunction onChildDelete(child, keyPath, deletedValue, parentType, passive) {\n\t\tvar key = child.name;\n\n\t\tif (passive) {\n\t\t\tif (self.withRootName /* || !self.isRoot*/) {\n\t\t\t\t\tkeyPath.unshift(name);\n\t\t\t\t}\n\t\t\tself.emit('delete', child, keyPath, deletedValue, parentType, passive);\n\t\t\tupdateObjectChildCount();\n\t\t} else {\n\t\t\tif (type == 'array') {\n\t\t\t\tvalue.splice(key, 1);\n\t\t\t} else {\n\t\t\t\tdelete value[key];\n\t\t\t}\n\t\t\trefresh(true);\n\t\t}\n\t}\n\n\tfunction onChildClick(child, keyPath, value) {\n\t\tif (self.withRootName || !self.isRoot) {\n\t\t\tkeyPath.unshift(name);\n\t\t}\n\t\tself.emit('click', child, keyPath, value);\n\t}\n\n\tfunction onChildExpand(child, keyPath, value) {\n\t\tif (self.withRootName || !self.isRoot) {\n\t\t\tkeyPath.unshift(name);\n\t\t}\n\t\tself.emit('expand', child, keyPath, value);\n\t}\n\n\tfunction onChildCollapse(child, keyPath, value) {\n\t\tif (self.withRootName || !self.isRoot) {\n\t\t\tkeyPath.unshift(name);\n\t\t}\n\t\tself.emit('collapse', child, keyPath, value);\n\t}\n\n\tfunction onChildRefresh(child, keyPath, value) {\n\t\tif (self.withRootName || !self.isRoot) {\n\t\t\tkeyPath.unshift(name);\n\t\t}\n\t\tself.emit('refresh', child, keyPath, value);\n\t}\n\n\tfunction addDomEventListener(element, name, fn) {\n\t\telement.addEventListener(name, fn);\n\t\tdomEventListeners.push({ element: element, name: name, fn: fn });\n\t}\n}\n\n\n\n/*\n * Behave.js\n *\n * Copyright 2013, Jacob Kelley - http://jakiestfu.com/\n * Released under the MIT Licence\n * http://opensource.org/licenses/MIT\n *\n * Github:  http://github.com/jakiestfu/Behave.js/\n * Version: 1.5\n */\n(function(undefined){\n\n    'use strict';\n\n    var BehaveHooks = BehaveHooks || (function(){\n\t\tvar hooks = {};\n\n\t\treturn {\n\t\t    add: function(hookName, fn){\n\t\t\t    if(typeof hookName == \"object\"){\n\t\t\t    \tvar i;\n\t\t\t    \tfor(i=0; i<hookName.length; i++){\n\t\t\t\t    \tvar theHook = hookName[i];\n\t\t\t\t    \tif(!hooks[theHook]){\n\t\t\t\t\t    \thooks[theHook] = [];\n\t\t\t\t    \t}\n\t\t\t\t    \thooks[theHook].push(fn);\n\t\t\t    \t}\n\t\t\t    } else {\n\t\t\t\t    if(!hooks[hookName]){\n\t\t\t\t    \thooks[hookName] = [];\n\t\t\t    \t}\n\t\t\t    \thooks[hookName].push(fn);\n\t\t\t    }\n\t\t    },\n\t\t    get: function(hookName){\n\t\t\t    if(hooks[hookName]){\n\t\t\t    \treturn hooks[hookName];\n\t\t    \t}\n\t\t    }\n\t    };\n\n\t})(),\n\tBehave = Behave || function (userOpts) {\n\n        if (typeof String.prototype.repeat !== 'function') {\n            String.prototype.repeat = function(times) {\n                if(times < 1){\n                    return '';\n                }\n                if(times % 2){\n                    return this.repeat(times - 1) + this;\n                }\n                var half = this.repeat(times / 2);\n                return half + half;\n            };\n        }\n\n        if (typeof Array.prototype.filter !== 'function') {\n            Array.prototype.filter = function(func /*, thisp */) {\n                if (this === null) {\n                    throw new TypeError();\n                }\n\n                var t = Object(this),\n                    len = t.length >>> 0;\n                if (typeof func != \"function\"){\n                    throw new TypeError();\n                }\n                var res = [],\n                    thisp = arguments[1];\n                for (var i = 0; i < len; i++) {\n                    if (i in t) {\n                        var val = t[i];\n                        if (func.call(thisp, val, i, t)) {\n                            res.push(val);\n                        }\n                    }\n                }\n                return res;\n            };\n        }\n\n        var defaults = {\n            textarea: null,\n            replaceTab: true,\n            softTabs: true,\n            tabSize: 4,\n            autoOpen: true,\n            overwrite: true,\n            autoStrip: true,\n            autoIndent: true,\n            fence: false\n        },\n        tab,\n        newLine,\n        charSettings = {\n\n            keyMap: [\n                { open: \"\\\"\", close: \"\\\"\", canBreak: false },\n                { open: \"'\", close: \"'\", canBreak: false },\n                { open: \"(\", close: \")\", canBreak: false },\n                { open: \"[\", close: \"]\", canBreak: true },\n                { open: \"{\", close: \"}\", canBreak: true }\n            ]\n\n        },\n        utils = {\n\n        \t_callHook: function(hookName, passData){\n    \t\t\tvar hooks = BehaveHooks.get(hookName);\n\t    \t\tpassData = typeof passData==\"boolean\" && passData === false ? false : true;\n\n\t    \t\tif(hooks){\n\t\t\t    \tif(passData){\n\t\t\t\t    \tvar theEditor = defaults.textarea,\n\t\t\t\t    \t\ttextVal = theEditor.value,\n\t\t\t\t    \t\tcaretPos = utils.cursor.get(),\n\t\t\t\t    \t\ti;\n\n\t\t\t\t    \tfor(i=0; i<hooks.length; i++){\n\t\t\t\t\t    \thooks[i].call(undefined, {\n\t\t\t\t\t    \t\teditor: {\n\t\t\t\t\t\t    \t\telement: theEditor,\n\t\t\t\t\t\t    \t\ttext: textVal,\n\t\t\t\t\t\t    \t\tlevelsDeep: utils.levelsDeep()\n\t\t\t\t\t    \t\t},\n\t\t\t\t\t\t    \tcaret: {\n\t\t\t\t\t\t\t    \tpos: caretPos\n\t\t\t\t\t\t    \t},\n\t\t\t\t\t\t    \tlines: {\n\t\t\t\t\t\t\t    \tcurrent: utils.cursor.getLine(textVal, caretPos),\n\t\t\t\t\t\t\t    \ttotal: utils.editor.getLines(textVal)\n\t\t\t\t\t\t    \t}\n\t\t\t\t\t    \t});\n\t\t\t\t    \t}\n\t\t\t    \t} else {\n\t\t\t\t    \tfor(i=0; i<hooks.length; i++){\n\t\t\t\t    \t\thooks[i].call(undefined);\n\t\t\t\t    \t}\n\t\t\t    \t}\n\t\t    \t}\n\t    \t},\n\n            defineNewLine: function(){\n                var ta = document.createElement('textarea');\n                ta.value = \"\\n\";\n\n                if(ta.value.length==2){\n                    newLine = \"\\r\\n\";\n                } else {\n                    newLine = \"\\n\";\n                }\n            },\n            defineTabSize: function(tabSize){\n                if(typeof defaults.textarea.style.OTabSize != \"undefined\"){\n                    defaults.textarea.style.OTabSize = tabSize; return;\n                }\n                if(typeof defaults.textarea.style.MozTabSize != \"undefined\"){\n                    defaults.textarea.style.MozTabSize = tabSize; return;\n                }\n                if(typeof defaults.textarea.style.tabSize != \"undefined\"){\n                    defaults.textarea.style.tabSize = tabSize; return;\n                }\n            },\n            cursor: {\n\t            getLine: function(textVal, pos){\n\t\t        \treturn ((textVal.substring(0,pos)).split(\"\\n\")).length;\n\t        \t},\n\t            get: function() {\n\n                    if (typeof document.createElement('textarea').selectionStart===\"number\") {\n                        return defaults.textarea.selectionStart;\n                    } else if (document.selection) {\n                        var caretPos = 0,\n                            range = defaults.textarea.createTextRange(),\n                            rangeDupe = document.selection.createRange().duplicate(),\n                            rangeDupeBookmark = rangeDupe.getBookmark();\n                        range.moveToBookmark(rangeDupeBookmark);\n\n                        while (range.moveStart('character' , -1) !== 0) {\n                            caretPos++;\n                        }\n                        return caretPos;\n                    }\n                },\n                set: function (start, end) {\n                    if(!end){\n                        end = start;\n                    }\n                    if (defaults.textarea.setSelectionRange) {\n                        defaults.textarea.focus();\n                        defaults.textarea.setSelectionRange(start, end);\n                    } else if (defaults.textarea.createTextRange) {\n                        var range = defaults.textarea.createTextRange();\n                        range.collapse(true);\n                        range.moveEnd('character', end);\n                        range.moveStart('character', start);\n                        range.select();\n                    }\n                },\n                selection: function(){\n                    var textAreaElement = defaults.textarea,\n                        start = 0,\n                        end = 0,\n                        normalizedValue,\n                        range,\n                        textInputRange,\n                        len,\n                        endRange;\n\n                    if (typeof textAreaElement.selectionStart == \"number\" && typeof textAreaElement.selectionEnd == \"number\") {\n                        start = textAreaElement.selectionStart;\n                        end = textAreaElement.selectionEnd;\n                    } else {\n                        range = document.selection.createRange();\n\n                        if (range && range.parentElement() == textAreaElement) {\n\n                            normalizedValue = utils.editor.get();\n                            len = normalizedValue.length;\n\n                            textInputRange = textAreaElement.createTextRange();\n                            textInputRange.moveToBookmark(range.getBookmark());\n\n                            endRange = textAreaElement.createTextRange();\n                            endRange.collapse(false);\n\n                            if (textInputRange.compareEndPoints(\"StartToEnd\", endRange) > -1) {\n                                start = end = len;\n                            } else {\n                                start = -textInputRange.moveStart(\"character\", -len);\n                                start += normalizedValue.slice(0, start).split(newLine).length - 1;\n\n                                if (textInputRange.compareEndPoints(\"EndToEnd\", endRange) > -1) {\n                                    end = len;\n                                } else {\n                                    end = -textInputRange.moveEnd(\"character\", -len);\n                                    end += normalizedValue.slice(0, end).split(newLine).length - 1;\n                                }\n                            }\n                        }\n                    }\n\n                    return start==end ? false : {\n                        start: start,\n                        end: end\n                    };\n                }\n            },\n            editor: {\n                getLines: function(textVal){\n\t\t        \treturn (textVal).split(\"\\n\").length;\n\t        \t},\n\t            get: function(){\n                    return defaults.textarea.value.replace(/\\r/g,'');\n                },\n                set: function(data){\n                    defaults.textarea.value = data;\n                }\n            },\n            fenceRange: function(){\n                if(typeof defaults.fence == \"string\"){\n\n                    var data = utils.editor.get(),\n                        pos = utils.cursor.get(),\n                        hacked = 0,\n                        matchedFence = data.indexOf(defaults.fence),\n                        matchCase = 0;\n\n                    while(matchedFence>=0){\n                        matchCase++;\n                        if( pos < (matchedFence+hacked) ){\n                            break;\n                        }\n\n                        hacked += matchedFence+defaults.fence.length;\n                        data = data.substring(matchedFence+defaults.fence.length);\n                        matchedFence = data.indexOf(defaults.fence);\n\n                    }\n\n                    if( (hacked) < pos && ( (matchedFence+hacked) > pos ) && matchCase%2===0){\n                        return true;\n                    }\n                    return false;\n                } else {\n                    return true;\n                }\n            },\n            isEven: function(_this,i){\n                return i%2;\n            },\n            levelsDeep: function(){\n                var pos = utils.cursor.get(),\n                    val = utils.editor.get();\n\n                var left = val.substring(0, pos),\n                    levels = 0,\n                    i, j;\n\n                for(i=0; i<left.length; i++){\n                    for (j=0; j<charSettings.keyMap.length; j++) {\n                        if(charSettings.keyMap[j].canBreak){\n                            if(charSettings.keyMap[j].open == left.charAt(i)){\n                                levels++;\n                            }\n\n                            if(charSettings.keyMap[j].close == left.charAt(i)){\n                                levels--;\n                            }\n                        }\n                    }\n                }\n\n                var toDecrement = 0,\n                    quoteMap = [\"'\", \"\\\"\"];\n                for(i=0; i<charSettings.keyMap.length; i++) {\n                    if(charSettings.keyMap[i].canBreak){\n                        for(j in quoteMap){\n                            toDecrement += left.split(quoteMap[j]).filter(utils.isEven).join('').split(charSettings.keyMap[i].open).length - 1;\n                        }\n                    }\n                }\n\n                var finalLevels = levels - toDecrement;\n\n                return finalLevels >=0 ? finalLevels : 0;\n            },\n            deepExtend: function(destination, source) {\n                for (var property in source) {\n                    if (source[property] && source[property].constructor &&\n                        source[property].constructor === Object) {\n                        destination[property] = destination[property] || {};\n                        utils.deepExtend(destination[property], source[property]);\n                    } else {\n                        destination[property] = source[property];\n                    }\n                }\n                return destination;\n            },\n            addEvent: function addEvent(element, eventName, func) {\n                if (element.addEventListener){\n                    element.addEventListener(eventName,func,false);\n                } else if (element.attachEvent) {\n                    element.attachEvent(\"on\"+eventName, func);\n                }\n            },\n            removeEvent: function addEvent(element, eventName, func){\n\t            if (element.addEventListener){\n\t                element.removeEventListener(eventName,func,false);\n\t            } else if (element.attachEvent) {\n\t                element.detachEvent(\"on\"+eventName, func);\n\t            }\n\t        },\n\n            preventDefaultEvent: function(e){\n                if(e.preventDefault){\n                    e.preventDefault();\n                } else {\n                    e.returnValue = false;\n                }\n            }\n        },\n        intercept = {\n            tabKey: function (e) {\n\n                if(!utils.fenceRange()){ return; }\n\n                if (e.keyCode == 9) {\n                    utils.preventDefaultEvent(e);\n\n                    var toReturn = true;\n                    utils._callHook('tab:before');\n\n                    var selection = utils.cursor.selection(),\n                        pos = utils.cursor.get(),\n                        val = utils.editor.get();\n\n                    if(selection){\n\n                        var tempStart = selection.start;\n                        while(tempStart--){\n                            if(val.charAt(tempStart)==\"\\n\"){\n                                selection.start = tempStart + 1;\n                                break;\n                            }\n                        }\n\n                        var toIndent = val.substring(selection.start, selection.end),\n                            lines = toIndent.split(\"\\n\"),\n                            i;\n\n                        if(e.shiftKey){\n                            for(i = 0; i<lines.length; i++){\n                                if(lines[i].substring(0,tab.length) == tab){\n                                    lines[i] = lines[i].substring(tab.length);\n                                }\n                            }\n                            toIndent = lines.join(\"\\n\");\n\n                            utils.editor.set( val.substring(0,selection.start) + toIndent + val.substring(selection.end) );\n                            utils.cursor.set(selection.start, selection.start+toIndent.length);\n\n                        } else {\n                            for(i in lines){\n                                lines[i] = tab + lines[i];\n                            }\n                            toIndent = lines.join(\"\\n\");\n\n                            utils.editor.set( val.substring(0,selection.start) + toIndent + val.substring(selection.end) );\n                            utils.cursor.set(selection.start, selection.start+toIndent.length);\n                        }\n                    } else {\n                        var left = val.substring(0, pos),\n                            right = val.substring(pos),\n                            edited = left + tab + right;\n\n                        if(e.shiftKey){\n                            if(val.substring(pos-tab.length, pos) == tab){\n                                edited = val.substring(0, pos-tab.length) + right;\n                                utils.editor.set(edited);\n                                utils.cursor.set(pos-tab.length);\n                            }\n                        } else {\n                            utils.editor.set(edited);\n                            utils.cursor.set(pos + tab.length);\n                            toReturn = false;\n                        }\n                    }\n                    utils._callHook('tab:after');\n                }\n                return toReturn;\n            },\n            enterKey: function (e) {\n\n                if(!utils.fenceRange()){ return; }\n\n                if (e.keyCode == 13) {\n\n                    utils.preventDefaultEvent(e);\n                    utils._callHook('enter:before');\n\n                    var pos = utils.cursor.get(),\n                        val = utils.editor.get(),\n                        left = val.substring(0, pos),\n                        right = val.substring(pos),\n                        leftChar = left.charAt(left.length - 1),\n                        rightChar = right.charAt(0),\n                        numTabs = utils.levelsDeep(),\n                        ourIndent = \"\",\n                        closingBreak = \"\",\n                        finalCursorPos,\n                        i;\n                    if(!numTabs){\n                        finalCursorPos = 1;\n                    } else {\n                        while(numTabs--){\n                            ourIndent+=tab;\n                        }\n                        ourIndent = ourIndent;\n                        finalCursorPos = ourIndent.length + 1;\n\n                        for(i=0; i<charSettings.keyMap.length; i++) {\n                            if (charSettings.keyMap[i].open == leftChar && charSettings.keyMap[i].close == rightChar){\n                                closingBreak = newLine;\n                            }\n                        }\n\n                    }\n\n                    var edited = left + newLine + ourIndent + closingBreak + (ourIndent.substring(0, ourIndent.length-tab.length) ) + right;\n                    utils.editor.set(edited);\n                    utils.cursor.set(pos + finalCursorPos);\n                    utils._callHook('enter:after');\n                }\n            },\n            deleteKey: function (e) {\n\n\t            if(!utils.fenceRange()){ return; }\n\n\t            if(e.keyCode == 8){\n\t            \tutils.preventDefaultEvent(e);\n\n\t            \tutils._callHook('delete:before');\n\n\t            \tvar pos = utils.cursor.get(),\n\t                    val = utils.editor.get(),\n\t                    left = val.substring(0, pos),\n\t                    right = val.substring(pos),\n\t                    leftChar = left.charAt(left.length - 1),\n\t                    rightChar = right.charAt(0),\n\t                    i;\n\n\t                if( utils.cursor.selection() === false ){\n\t                    for(i=0; i<charSettings.keyMap.length; i++) {\n\t                        if (charSettings.keyMap[i].open == leftChar && charSettings.keyMap[i].close == rightChar) {\n\t                            var edited = val.substring(0,pos-1) + val.substring(pos+1);\n\t                            utils.editor.set(edited);\n\t                            utils.cursor.set(pos - 1);\n\t                            return;\n\t                        }\n\t                    }\n\t                    var edited = val.substring(0,pos-1) + val.substring(pos);\n\t                    utils.editor.set(edited);\n\t                    utils.cursor.set(pos - 1);\n\t                } else {\n\t                \tvar sel = utils.cursor.selection(),\n\t                \t\tedited = val.substring(0,sel.start) + val.substring(sel.end);\n\t                    utils.editor.set(edited);\n\t                    utils.cursor.set(pos);\n\t                }\n\n\t                utils._callHook('delete:after');\n\n\t            }\n\t        }\n        },\n        charFuncs = {\n            openedChar: function (_char, e) {\n                utils.preventDefaultEvent(e);\n                utils._callHook('openChar:before');\n                var pos = utils.cursor.get(),\n                    val = utils.editor.get(),\n                    left = val.substring(0, pos),\n                    right = val.substring(pos),\n                    edited = left + _char.open + _char.close + right;\n\n                defaults.textarea.value = edited;\n                utils.cursor.set(pos + 1);\n                utils._callHook('openChar:after');\n            },\n            closedChar: function (_char, e) {\n                var pos = utils.cursor.get(),\n                    val = utils.editor.get(),\n                    toOverwrite = val.substring(pos, pos + 1);\n                if (toOverwrite == _char.close) {\n                    utils.preventDefaultEvent(e);\n                    utils._callHook('closeChar:before');\n                    utils.cursor.set(utils.cursor.get() + 1);\n                    utils._callHook('closeChar:after');\n                    return true;\n                }\n                return false;\n            }\n        },\n        action = {\n            filter: function (e) {\n\n                if(!utils.fenceRange()){ return; }\n\n                var theCode = e.which || e.keyCode;\n\n                if(theCode == 39 || theCode == 40 && e.which===0){ return; }\n\n                var _char = String.fromCharCode(theCode),\n                    i;\n\n                for(i=0; i<charSettings.keyMap.length; i++) {\n\n                    if (charSettings.keyMap[i].close == _char) {\n                        var didClose = defaults.overwrite && charFuncs.closedChar(charSettings.keyMap[i], e);\n\n                        if (!didClose && charSettings.keyMap[i].open == _char && defaults.autoOpen) {\n                            charFuncs.openedChar(charSettings.keyMap[i], e);\n                        }\n                    } else if (charSettings.keyMap[i].open == _char && defaults.autoOpen) {\n                        charFuncs.openedChar(charSettings.keyMap[i], e);\n                    }\n                }\n            },\n            listen: function () {\n\n                if(defaults.replaceTab){ utils.addEvent(defaults.textarea, 'keydown', intercept.tabKey); }\n                if(defaults.autoIndent){ utils.addEvent(defaults.textarea, 'keydown', intercept.enterKey); }\n                if(defaults.autoStrip){ utils.addEvent(defaults.textarea, 'keydown', intercept.deleteKey); }\n\n                utils.addEvent(defaults.textarea, 'keypress', action.filter);\n\n                utils.addEvent(defaults.textarea, 'keydown', function(){ utils._callHook('keydown'); });\n                utils.addEvent(defaults.textarea, 'keyup', function(){ utils._callHook('keyup'); });\n            }\n        },\n        init = function (opts) {\n\n            if(opts.textarea){\n            \tutils._callHook('init:before', false);\n                utils.deepExtend(defaults, opts);\n                utils.defineNewLine();\n\n                if (defaults.softTabs) {\n                    tab = \" \".repeat(defaults.tabSize);\n                } else {\n                    tab = \"\\t\";\n\n                    utils.defineTabSize(defaults.tabSize);\n                }\n\n                action.listen();\n                utils._callHook('init:after', false);\n            }\n\n        };\n\n        this.destroy = function(){\n            utils.removeEvent(defaults.textarea, 'keydown', intercept.tabKey);\n\t        utils.removeEvent(defaults.textarea, 'keydown', intercept.enterKey);\n\t        utils.removeEvent(defaults.textarea, 'keydown', intercept.deleteKey);\n\t        utils.removeEvent(defaults.textarea, 'keypress', action.filter);\n        };\n\n        init(userOpts);\n\n    };\n\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = Behave;\n    }\n\n    if (typeof ender === 'undefined') {\n        this.Behave = Behave;\n        this.BehaveHooks = BehaveHooks;\n    }\n\n    if (typeof define === \"function\" && define.amd) {\n        define(\"behave\", [], function () {\n            return Behave;\n        });\n    }\n\n}).call(window);\n\n\n/**\n * Component devtools\n */\n\n\n// wrapper function for JSONTreeView (json-view.js)\nfunction createTreeView(obj, container, opts = {}) {\n  var oName        = !!opts ? opts.objName : 'state';\n  var shouldExpand = !!opts ? opts.expand : false;\n\n  var view = new JSONTreeView(oName, obj);\n\n  // Listen for change events\n/*\n  view.on('change', function(self, key, oldValue, newValue){\n      console.log('change', key, oldValue, '=>', newValue);\n  });\n  view.on('rename', function(self, key, oldName, newName) {\n      console.log('rename', key, oldName, '=>', newName);\n  });\n  view.on('delete', function(self, key) {\n      console.log('delete', key);\n  });\n  view.on('append', function(self, key, nameOrValue, newValue) {\n      console.log('append', key, nameOrValue, '=>', newValue);\n  });\n  view.on('click', function(self, key, value) {\n      console.log('click', key, '=', value);\n  });\n  view.on('expand', function(self, key, value) {\n      console.log('expand', key, '=', value);\n  });\n  view.on('collapse', function(self, key, value) {\n      console.log('collapse', key, '=', value);\n  });\n  view.on('refresh', function(self, key, value) {\n      console.log('refresh', key, '=', value);\n  });\n*/\n  // Expand recursively\n  view.expand(shouldExpand);\n  view.withRootName = true;\n  // Inspect window.data on the console and note that it changes with edits.\n  window.data = view.value;\n\n  // Do not hide root.\n  view.alwaysShowRoot = false;\n  // Set readonly when filtering words automatically.\n  view.readonlyWhenFiltering = true;\n  //view.filterText = 'a';\n  // Remove word filter by setting a false value.\n  view.filterText = null;\n  // Always show count of object or array.\n  view.showCountOfObjectOrArray = true;\n  // Cannot change the value of JSON and remove \"+\" and \"x\" buttons.\n  view.readonly = true;\n\n  // auto-log changes in the console\n  view.refresh();\n  window.view = view;\n\n  if (container) {\n    container.innerHTML = '';\n    container.appendChild(view.dom);\n  }\n}\n\n// used by devtools to safely print HTML in its panels\nfunction htmlEntities(str) {\n    return String(str).replace(/&/g, '&amp;')\n      .replace(/</g, '&lt;')\n      .replace(/>/g, '&gt;')\n      .replace(/\"/g, '&quot;'); //\"\n}\n\nconst devtools = {};\n\ndevtools.style = `\nbody {\n  padding: 0;\n  margin: 0;\n}\nbody, body * {\n  box-sizing: border-box;\n}\n.jsonView{\n    margin-left: 20px;\n    font-family: Consolas, \"Lucida Console\", Menlo, \"dejavu sans mono\", monospace;\n    font-size: 16px;\n    line-height: 16px;\n    padding: 2px;\n    cursor: default;\n    color: rgb(66, 66, 66);\n    white-space: nowrap;\n    -webkit-user-select: none;\n}\n\n.jsonView>div{\n    display: inline-block;\n}\n\n.jsonView.hidden{\n    display: none;\n}\n\n.jsonView>.children, .jsonView.insert{\n    display: block;\n}\n\n.jsonView>.name{\n    color: rgb(136, 19, 145);\n}\n\n.jsonView>.separator:before{\n    content: \":\";\n}\n\n.jsonView>.separator{\n    padding-right: 5px;\n}\n\n.jsonView>.spacing{\n    display:inline-block;\n    width:15px;\n}\n.jsonView>.spacing::before{\n    content: '1';\n    visibility:hidden;\n}\n\n.jsonView>.value.null, .jsonView>.value.undefined{\n    color: rgb(128, 128, 128);\n}\n\n.jsonView>.value.boolean, .jsonView>.value.number{\n    color: rgb(28, 0, 207);\n}\n\n.jsonView>.value.string:not(.edit):before, .jsonView>.value.string:not(.edit):after{\n    content: '\"';\n}\n\n.jsonView>.value.string {\n    color: rgb(196, 26, 22);\n}\n\n.jsonView>.name:hover, .jsonView>.value:hover{\n    background-color: rgba(56, 121, 217, 0.1);\n}\n\n.jsonView>.expand, .jsonView>.collapse{\n    min-width: 20px;\n    margin-left: -20px;\n    cursor: pointer;\n}\n\n.jsonView>.expand:before{\n    content: '';\n}\n\n.jsonView>.collapse:before{\n    content: '';\n}\n\n.jsonView>.edit{\n    padding: 0px 5px 0px 5px;\n    white-space: nowrap;\n    overflow: hidden;\n    background-color: transparent;\n}\n\n.jsonView>.edit br{\n    display: none;\n}\n\n.jsonView>.edit *{\n    display: inline;\n    white-space: nowrap;\n}\n\n.jsonView>.value.edit{\n    color: rgb(0, 0, 0);\n}\n\n.jsonView>.delete:before{\n    content: '+';\n    transform: rotate(45deg);\n    -webkit-transform: rotate(45deg);\n    -o-transform: rotate(45deg);\n    -ms-transform: rotate(45deg);\n    display: inline-block;\n}\n\n.jsonView>.delete{\n    opacity: 0;\n    display: inline;\n    padding: 3px;\n    cursor: pointer;\n    color: rgb(150, 150, 150);\n}\n\n.jsonView>.item:hover~.delete{\n    opacity: 1;\n    color: rgb(150, 150, 150);\n}\n.jsonView>.delete:hover{\n    opacity: 1;\n    color: rgb(0, 0, 0);\n    background: rgb(220, 220, 220);\n}\n\n.jsonView.readonly>.insert,.jsonView.readonly>.delete{\n    display: none !important;\n}\n.jsonView>.insert:before{\n    content: '+';\n}\n\n.jsonView>.insert{\n    display: none;\n    color: rgb(150, 150, 150);\n    cursor: pointer;\n}\n\n.jsonView.expanded>.insert, .jsonView.expanded>.insert{\n    display: inline-block;\n    margin-left: 20px;\n    padding: 3px;\n}\n\n.jsonView>.insert:hover{\n    color: rgb(0, 0, 0);\n    background: rgb(220, 220, 220);\n}\n\n.devtools {\n  background-color: #EDEDED;\n  border: 1px solid #ccc;\n  display: none;\n  font-family: sans, sans-serif;\n  padding: 0;\n  position: fixed;\n  bottom: 0;\n  height: 345px;\n  width: 100%;\n}\n.toolbar {\n  border-bottom: 1px solid #ccc;\n  padding: 8px;\n  width: 100%;\n}\n.toolbar button {\n  display: inline-block;\n  border: 1px solid #ccc;\n  height: 24px;\n  padding: 2px 2px;\n  vertical-align: bottom;\n}\n.btn-selected {\n  border: 1px solid #444;\n  background-color: #eeeeff;\n}\n.tab {\n  display: none;\n}\n.overview-tab {\n  display: block;\n}\n.column {\n  display: inline-block;\n  height: 100%;\n  min-height: 300px;\n  padding: 0 4px 8px;\n  vertical-align: top;\n  width: calc(100% / 4.05);\n}\n.overview-tab .column {\n  width: calc((100% / 2) - 4px);\n}\n.details-tab .column {\n  width: calc((100% / 1) - 4px);\n}\n.console-tab .column {\n  width: calc((100% / 1) - 4px);\n}\n.editor-tab .column {\n  width: calc((100% / 2) - 4px);\n}\n\n.column p {\n  color: #222;\n  display: inline-block;\n  font-weight: bold;\n  margin: 0;\n  padding: 0.5em 0 0.5em 0;\n  vertical-align: top;\n  width: 80%;\n}\n.panel {\n  background-color: #fff;\n  border-top: 1.5px solid #ccc;\n  border-left: 1.5px solid #ccc;\n  color: #222;\n  font-size: 0.9em;\n  min-height: 250px;\n  max-height: 250px;\n  height: 100%;\n  overflow: auto;\n  min-width: 100%;\n}\ntextarea.panel {\n  font-size: 1.2em;\n}\n.panel pre {\n  font-family: Consolas, \"Lucida Console\", Menlo, \"dejavu sans mono\", monospace;\n  font-size: 1em;\n  padding: 1px 8px;\n  margin: 0;\n}\n.details-panel > div {\n  border-bottom: 1px solid #ccc;\n}\n.panel div span {\n  line-height: 2.5em;\n}\n.panel div span:first-child {\n  border-right: 1px solid #eee;\n  border-bottom: 0;\n  display: inline-block;\n  font-weight: bold;\n  padding-right: 8px;\n  text-align: right;\n  vertical-align: top;\n  width: 124px;\n}\n.panel div span:nth-child(2) {\n  display: inline-block;\n  font-family: Consolas, \"Lucida Console\", Menlo, \"dejavu sans mono\", monospace;\n  max-width: 100%;\n  padding-left: 8px;\n}\n\n.history-column {}\n.history-column p {\n  display: inline-block;\n}\n.history-toolbar {\n  border-bottom: 0;\n  float: right;\n  text-align: right;\n  width: 20%;\n}\n.history-toolbar button:nth-child(3) {\n  margin-right: 0;\n}\n\n.elemOverlay {\n  position: relative;\n}\n.elemOverlay:after {\n  content: '';\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  position: absolute;\n  background-color: #f11;\n  opacity: 0.3;\n}\n\n.no-scroll {\n   min-height: 100%;\n   overflow-y: hidden;\n   width: calc(100% - 6px);\n}\n.no-scroll .devtools {\n   width: calc(100% - 12px);\n}\n\n\n.devtools-vertical {\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 40%;\n  min-width: 300px;\n  max-width: 800px;\n  min-height: 100%;\n  max-height: 100%;\n}\n\n.devtools-vertical .column {\n  display: inline-block;\n  height: 100%;\n  min-height: 300px;\n  padding: 0 4px 8px;\n  overflow: hidden;\n  vertical-align: top;\n  width: 100%;\n}\n.devtools-vertical .column p,\n.devtools-vertical .history-toolbar {\n  width: 50%;\n}\n\n.devtools-vertical .details-column,\n.devtools-vertical .details-panel,\n.devtools-vertical .history-column,\n.devtools-vertical .history-panel {\n  padding-bottom: 0;\n  max-height: 600px;\n  max-height: 92vh;\n  height: 92%;\n}\n\n#devtools-right,\n#devtools-bottom {\n  margin-right: 4px;\n}\n`;\n\ndevtools.view = `<div id=\"component-devtools\" class=\"devtools devtools-vertical\">\n  <div class=\"toolbar\">\n    <button id=\"devtools-selectBtn\" title=\"Select a component from the page\" style=\"padding-top:2px;\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 511.997 511.997\" width=\"16\" height=\"16\">\n        <path d=\"M444.92 365.778L231.587 152.445c-3.051-3.051-7.637-3.947-11.627-2.304a10.67 10.67 0 0 0-6.592 9.856v295.381c0 4.075 2.325 7.808 5.995 9.579 3.691 1.813 8.021 1.344 11.243-1.173l54.144-42.347 47.275 85.077c1.941 3.499 5.589 5.483 9.344 5.483 1.621 0 3.243-.363 4.779-1.131l64-32c2.603-1.301 4.565-3.605 5.419-6.379a10.73 10.73 0 0 0-.875-8.341l-44.523-80.149h67.2a10.67 10.67 0 0 0 9.856-6.592c1.663-3.989.746-8.576-2.305-11.627zm-92.885-3.114c-3.776 0-7.275 1.984-9.195 5.291-1.92 3.243-1.963 7.275-.128 10.581l47.915 86.251-44.885 22.464-48.384-87.083c-1.515-2.731-4.139-4.672-7.211-5.291a10.16 10.16 0 0 0-2.112-.213c-2.368 0-4.672.768-6.571 2.261l-46.763 36.565V185.746l176.917 176.917h-59.583zm21.418-259.883c-15.296-39.915-45.184-71.488-84.224-88.896-80.533-35.947-175.339.32-211.307 80.896-17.408 39.019-18.581 82.496-3.328 122.432 15.296 39.915 45.184 71.488 84.224 88.896 1.408.619 2.88.917 4.331.917 4.096 0 7.979-2.368 9.749-6.336 2.411-5.376-.021-11.691-5.397-14.08C97.699 255.442 66.232 173.288 97.4 103.464 128.589 33.661 210.765 2.258 280.547 33.362c69.803 31.168 101.269 113.323 70.101 183.147-2.411 5.376.021 11.691 5.397 14.08 5.376 2.432 11.669-.043 14.08-5.397 17.43-39.019 18.603-82.496 3.328-122.411z\" fill=\"#2E3A59\"/>\n      </svg>\n    </button>\n    <button id=\"devtools-tab1\" title=\"Component overview\">Overview</button>\n    <button id=\"devtools-tab2\" title=\"Component properties\">Details</button>\n    <button id=\"devtools-tab3\" title=\"State history\">History</button>\n    <button id=\"devtools-tab4\" title=\"Component editor\">Editor</button>\n\n    <button id=\"devtools-closeBtn\" title=\"Close this panel\" style=\"float:right;\">\n      <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M15.59 7L12 10.59L8.41 7L7 8.41L10.59 12L7 15.59L8.41 17L12 13.41L15.59 17L17 15.59L13.41 12L17 8.41L15.59 7Z\" fill=\"#2E3A59\"/>\n      </svg>\n    </button>\n    <button id=\"devtools-right\" title=\"Move panel to right-side of viewport\" style=\"float:right;\">\n      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M19 21H5C3.89543 21 3 20.1046 3 19V5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V19C21 20.1046 20.1046 21 19 21ZM16 5V19H19V5H16ZM5 5V19H14V5H5Z\" fill=\"#2E3A59\"/>\n      </svg>\n    </button>\n    <button id=\"devtools-bottom\" title=\"Move panel to bottom of viewport\" style=\"float:right;\">\n      <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M19 21H5C3.89543 21 3 20.1046 3 19V5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V19C21 20.1046 20.1046 21 19 21ZM5 16V19H19V16H5ZM5 5V14H19V5H5Z\" fill=\"#2E3A59\"/>\n      </svg>\n    </button>\n\n  </div>\n\n  <div class=\"tab overview-tab\">\n    <div class=\"column dom-tree-column\">\n      <p>Current View</p>\n      <div class=\"panel dom-tree-panel\"></div>\n    </div>\n    <div class=\"column properties-column\">\n      <p>Current State</p>\n      <div class=\"panel properties-panel\"></div>\n    </div>\n  </div>\n\n  <div class=\"tab details-tab\">\n    <div class=\"column details-column\">\n      <p>Details</p>\n      <div class=\"panel details-panel\"></div>\n    </div>\n  </div>\n\n  <div class=\"tab console-tab\">\n    <div class=\"column history-column\">\n      <p>State History</p>\n      <span class=\"toolbar history-toolbar\">\n        <button id=\"btn-state-rewind\" title=\"Rewind to start\">\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M20 18L11.5 12L20 6V18ZM11 18L2.5 12L11 6V18Z\" fill=\"#2E3A59\"/>\n          </svg>\n        </button>\n        <button id=\"btn-state-back\" title=\"Go back\">\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\">\n            <path\n               d=\"M 8 19 L 19 12 L 8 5 L 8 19 z \"\n               transform=\"matrix(-1.000000,1.224647e-16,-1.224647e-16,-1.000000,27.00000,24.00000)\"\n               style=\"fill:#2E3A59;\" />\n          </svg>\n        </button>\n        <button id=\"btn-state-forward\" title=\"Go forward\">\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M8 19L19 12L8 5V19Z\" fill=\"#2E3A59\"/>\n          </svg>\n        </button>\n        <button id=\"btn-state-fast-forward\" title=\"Fast-forward to latest\">\n          <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <path d=\"M13 18V6L21.5 12L13 18ZM4 18V6L12.5 12L4 18Z\" fill=\"#2E3A59\"/>\n          </svg>\n        </button>\n      </span>\n      <div class=\"panel history-panel\"></div>\n    </div>\n  </div>\n\n  <div class=\"tab editor-tab\">\n    <div class=\"column editor-column\">\n      <p>View</p>\n      <button id=\"devtools-view-saveBtn\" title=\"Save changes to view\" style=\"font-size:1em;float:right;margin-top:4px;padding:0;padding-top:2px;\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Layer_1\" data-name=\"Layer 1\" viewBox=\"0 0 512 512\" width=\"18\" height=\"16\">\n          <path d=\"M86.273,482H425.727C452.194,482,474,460.813,474,434.346V103.626a8.138,8.138,0,0,0-1.968-5.094l-54.548-65.8A7.983,7.983,0,0,0,411.247,30H86.273C59.806,30,38,51.187,38,77.654V434.346C38,460.813,59.806,482,86.273,482ZM354,359H146V322H354ZM146,375H354v91H146Zm0-329H354V165H146ZM54,77.654C54,60.009,68.628,46,86.273,46H130V172.684A8.455,8.455,0,0,0,138.208,181H362.3c4.418,0,7.7-3.9,7.7-8.316V46h37.478L458,106.5V434.346C458,451.991,443.372,466,425.727,466H370V313.907A7.67,7.67,0,0,0,362.3,306H138.208A8.1,8.1,0,0,0,130,313.907V466H86.273C68.628,466,54,451.991,54,434.346Z\"/>\n          <path d=\"M308,73a8,8,0,0,0-8-8H268a8,8,0,0,0-8,8v67a8,8,0,0,0,8,8h32a8,8,0,0,0,8-8Zm-16,58H276V81h16Z\"/>\n        </svg>\n      </button>\n      <textarea class=\"panel view-panel\" spellcheck=\"false\"></textarea>\n    </div>\n    <div class=\"column editor-column\">\n      <p>Style</p>\n      <button id=\"devtools-style-saveBtn\" title=\"Save changes to styles\" style=\"font-size:1em;float:right;margin-top:4px;padding:0;padding-top:2px;\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" id=\"Layer_1\" data-name=\"Layer 1\" viewBox=\"0 0 512 512\" width=\"18\" height=\"16\">\n          <path d=\"M86.273,482H425.727C452.194,482,474,460.813,474,434.346V103.626a8.138,8.138,0,0,0-1.968-5.094l-54.548-65.8A7.983,7.983,0,0,0,411.247,30H86.273C59.806,30,38,51.187,38,77.654V434.346C38,460.813,59.806,482,86.273,482ZM354,359H146V322H354ZM146,375H354v91H146Zm0-329H354V165H146ZM54,77.654C54,60.009,68.628,46,86.273,46H130V172.684A8.455,8.455,0,0,0,138.208,181H362.3c4.418,0,7.7-3.9,7.7-8.316V46h37.478L458,106.5V434.346C458,451.991,443.372,466,425.727,466H370V313.907A7.67,7.67,0,0,0,362.3,306H138.208A8.1,8.1,0,0,0,130,313.907V466H86.273C68.628,466,54,451.991,54,434.346Z\"/>\n          <path d=\"M308,73a8,8,0,0,0-8-8H268a8,8,0,0,0-8,8v67a8,8,0,0,0,8,8h32a8,8,0,0,0,8-8Zm-16,58H276V81h16Z\"/>\n        </svg>\n      </button>\n      <textarea class=\"panel style-panel\" spellcheck=\"false\"></textarea>\n    </div>\n  </div>\n</div>`\n\ndevtools.toggleBtn = `\n<button\n  title=\"Open Component devtools\"\n  id=\"devtools-toggleBtn\"\n  style=\"position:fixed;top:8px;right:8px;font-size:1.2em;padding:4px;\">\n    \n</button>`;\n\ndevtools.layout = 'right';\n\ndevtools.init = function(){        // main function to load devtools, adds button to page to hide/show devtools UI\n  document.addEventListener('DOMContentLoaded', (event) => {\n    // add the devtools stylesheet to the page\n    const devtoolsCss = document.createElement(\"style\")\n    devtoolsCss.innerHTML = devtools.style;\n    document.head.appendChild(devtoolsCss)\n\n    // add the devtools HTML to the page\n    const devtoolsView = document.createElement(\"div\")\n    devtoolsView.innerHTML = devtools.view + devtools.toggleBtn;\n    document.body.append(devtoolsView);\n\n    const devtoolsToggleBtn = document.querySelector('#devtools-toggleBtn');\n    const mainUI = document.querySelector('.devtools');\n\n    this.toolbarBtns = mainUI.querySelectorAll('.devtools .toolbar button');\n    devtools.toolbarBtns.forEach(el => {\n      el.addEventListener('click', e => {\n        devtools.rmBtnHighlights();\n      });\n    });\n\n    this.tabs = mainUI.querySelectorAll('.devtools .tab');\n    this.oTab = mainUI.querySelector('.overview-tab');\n    this.dTab = mainUI.querySelector('.details-tab');\n    this.cTab = mainUI.querySelector('.console-tab');\n    this.eTab = mainUI.querySelector('.editor-tab');\n\n    this.openBtn  = mainUI.querySelector('#devtools-toggleBtn');\n    this.toRightBtn = mainUI.querySelector('#devtools-right');\n    this.toBottomBtn = mainUI.querySelector('#devtools-bottom');\n    this.closeBtn = mainUI.querySelector('#devtools-closeBtn');\n\n    devtools.toRightBtn.style.display = 'none';\n\n    devtoolsToggleBtn.addEventListener('click', function(e) {\n        mainUI.style.display = 'block';\n        this.style.display = 'none';\n        if (devtools.layout === 'bottom') document.body.style.marginBottom = \"350px\";\n        if (devtools.layout === 'right') document.body.style.marginRight = \"40%\";\n        /*\n        mainUI.addEventListener('mouseover', function(e) {\n            document.querySelector('html').classList.add(\"no-scroll\");\n            document.body.classList.add(\"no-scroll\");\n        });\n        mainUI.addEventListener('mouseout', function(e) {\n            document.querySelector('html').classList.remove(\"no-scroll\");\n            document.body.classList.remove(\"no-scroll\");\n        });\n        */\n    });\n    this.toBottomBtn.addEventListener('click', function(e) {\n        this.style.display = 'none';\n        devtools.toRightBtn.style.display = 'block';\n        devtools.layout = 'bottom';\n        mainUI.style.display = 'block';\n        mainUI.classList.remove('devtools-vertical')\n        document.body.style.marginBottom = \"350px\";\n        document.body.style.marginRight = \"0\";\n    });\n    this.toRightBtn.addEventListener('click', function(e) {\n        this.style.display = 'none';\n        devtools.toBottomBtn.style.display = 'block';\n        devtools.layout = 'right';\n        mainUI.style.display = 'block';\n        mainUI.classList.add('devtools-vertical')\n        document.body.style.marginBottom = \"0\";\n        document.body.style.marginRight = \"40%\";\n    });\n    this.closeBtn.addEventListener('click', function(e) {\n        mainUI.style.display = 'none';\n        devtoolsToggleBtn.style.display = 'block';\n        document.body.style.marginBottom = \"0\";\n        document.body.style.marginRight = \"0\";\n    });\n\n    this.selectBtn = mainUI.querySelector('#devtools-selectBtn');\n    this.overviewBtn = mainUI.querySelector('#devtools-tab1');\n    this.detailsBtn = mainUI.querySelector('#devtools-tab2');\n    this.consoleBtn = mainUI.querySelector('#devtools-tab3');\n    this.editorBtn = mainUI.querySelector('#devtools-tab4');\n\n    this.overviewBtn.addEventListener('click', function(e) {\n        devtools.hideTabs()\n        devtools.oTab.style.display = 'block';\n        devtools.overviewBtn.classList.add('btn-selected')\n    });\n    this.detailsBtn.addEventListener('click', function(e) {\n        devtools.hideTabs()\n        devtools.dTab.style.display = 'block';\n        devtools.detailsBtn.classList.add('btn-selected')\n    });\n    this.consoleBtn.addEventListener('click', function(e) {\n        devtools.hideTabs()\n        devtools.cTab.style.display = 'block';\n        devtools.consoleBtn.classList.add('btn-selected')\n    });\n    this.editorBtn.addEventListener('click', function(e) {\n        devtools.hideTabs()\n        devtools.eTab.style.display = 'block';\n        devtools.editorBtn.classList.add('btn-selected')\n    });\n    this.selectBtn.addEventListener('click', devtools.getComponent);\n\n    this.rwStateBtn = mainUI.querySelector('#btn-state-rewind');\n    this.backStateBtn = mainUI.querySelector('#btn-state-back');\n    this.forwardStateBtn = mainUI.querySelector('#btn-state-forward');\n    this.ffStateBtn = mainUI.querySelector('#btn-state-fast-forward');\n\n    this.rwStateBtn.addEventListener('click', e => devtools.currentComponent.rw());\n    this.backStateBtn.addEventListener('click', e => devtools.currentComponent.rw(1));\n    this.forwardStateBtn.addEventListener('click', e => devtools.currentComponent.ff(1));\n    this.ffStateBtn.addEventListener('click', e => devtools.currentComponent.ff());\n\n    this.viewSaveBtn = mainUI.querySelector('#devtools-view-saveBtn');\n    this.styleSaveBtn = mainUI.querySelector('#devtools-style-saveBtn');\n\n    this.viewSaveBtn.addEventListener('click', e => {\n      const txt = document.querySelector('.view-panel').value;\n      const eval2 = eval;\n      sjComponents[devtools.uid].view = eval2(txt)\n    });\n    this.styleSaveBtn.addEventListener('click', e => {\n      const txt = document.querySelector('.style-panel').value;\n      const eval2 = eval;\n      sjComponents[devtools.uid].style = eval2(txt)\n    });\n\n    var viewEditor = new Behave({\n        textarea: document.querySelector('.view-panel')\n    });\n    var styleEditor = new Behave({\n        textarea: document.querySelector('.style-panel')\n    });\n\n  });\n\n};\n\ndevtools.rmBtnHighlights = function () {\n  devtools.toolbarBtns.forEach(el => {\n    el.classList.remove('btn-selected')\n  });\n};\n\ndevtools.hideTabs = function() {\n  devtools.tabs.forEach(el => {\n    el.style.display = \"none\";\n  });\n}\n\ndevtools.getComponents = function(){ // get all components on page\n  return document.querySelectorAll('[data-uid]');\n}\n\ndevtools.getComponent = function(){ // get component info, to populate UI\n  devtools.selectBtn.classList.add('btn-selected')\n  const components = document.querySelectorAll('[data-uid]');\n\n  // funcs to update elems in the page, for highlighting purposes\n  const addOverlay = elem => elem.classList.add(\"elemOverlay\");\n  const rmOverlay = elem => elem.classList.remove(\"elemOverlay\");\n\n  const self = this\n  // create named callbacks, so we can cancel them\n  function highlight(e){ addOverlay(this); }\n  function rmHighlight(e){ rmOverlay(this); }\n\n  function addToPanel(e) {\n    // remove highlighting and events listeners from all components\n    components.forEach(elem => {\n      elem.classList.remove(\"elemOverlay\")\n      elem.removeEventListener('mouseover', highlight);\n      elem.removeEventListener('mouseout', rmHighlight);\n      elem.removeEventListener('click', addToPanel);\n    });\n    devtools.populateUI(e.target.parentNode);\n    devtools.rmBtnHighlights();\n    devtools.overviewBtn.classList.add('btn-selected')\n    devtools.oTab.style.display = 'block';\n  }\n\n  components.forEach(el => {\n    // highlight each component on the page\n    el.addEventListener('mouseover', highlight);\n    el.addEventListener('mouseout', rmHighlight);\n    // if user clicks a component, load it in the devtools\n    el.addEventListener('click', addToPanel);\n  });\n}\n\ndevtools.populateUI = function(el) {\n  if (!el) return;\n  //console.log('el = ', el);\n\n  const container = devtools.getUidFromChildren(el)\n    || devtools.getUidFromParents(el);\n\n  const uid = container.dataset.uid;\n  devtools.uid = uid;\n\n  devtools.currentComponent = sjComponents[uid];\n\n  devtools.populateOverviewPanel(sjComponents[uid]);\n  devtools.populateDetailsPanel(sjComponents[uid]);\n  devtools.populateStateHistoryPanel(sjComponents[uid]);\n  devtools.populateViewPanel(sjComponents[uid]);\n  devtools.populateStylePanel(sjComponents[uid]);\n  // set current component as $c (can be accessed in the \"real\" dev tools console)\n  $c = sjComponents[uid];\n}\n\ndevtools.getUidFromParents = function(el) {\n  if(el && el.getAttribute('data-uid')) {\n      return el\n  } else if (el.parentElement) {\n      return devtools.getUidFromParents(el.parentElement)\n  }\n}\n\ndevtools.getUidFromChildren = function(el) {\n  if(el && el.getAttribute('data-uid')) {\n      return el\n  } else if (el.firstElementChild) {\n      return devtools.getUidFromChildren(el.firstElementChild)\n  }\n}\n\ndevtools.populateOverviewPanel = function(comp) {\n  const treePanel = document.querySelector('.dom-tree-panel')\n  if (treePanel) {\n    treePanel.innerHTML = '';\n    treePanel.innerHTML = `<pre>${htmlEntities(comp+\"\".replace(/^$/, ''))}</pre>`;\n    createTreeView(comp.state, document.querySelector('.properties-panel'))\n  }\n}\n\ndevtools.populateDetailsPanel = function(comp) {\n  const detailsPanel = document.querySelector('.details-panel');\n  if (detailsPanel) {\n    const panelContents = `\n      <div><span>UID</span><span>${comp.uid}</span></div>\n      <div><span>Container</span><span>${comp.container.className.replace(/^/, '.').replace(' ', ' .')}</span></div>\n      <div><span>Reactive</span><span>${comp.reactive || 'false'}</span></div>\n      <div><span>Scoped CSS</span><span>${comp.scopedCss || 'false'}</span></div>\n      <div><span>Debug</span><span>${comp.debug || 'false'}</span></div>\n      <div><span>Schema</span><span class=\"schema-row\">None</span></div>\n      <div><span>Actions</span><span class=\"actions-row\">None</span></div>\n      <div><span>Middleware</span><span class=\"middleware-row\">None</span></div>\n    `;\n    document.querySelector('.details-panel').innerHTML = panelContents;\n    if (comp.schema) createTreeView(comp.schema, document.querySelector('.schema-row'), { objName: 'schema' })\n    createTreeView(comp.middleware, document.querySelector('.middleware-row'), { objName: 'middleware' })\n    createTreeView(comp.actionsList, document.querySelector('.actions-row'), { objName: 'actions' })\n  }\n}\n\ndevtools.populateStateHistoryPanel = function(comp) {\n  const historyPanel = document.querySelector('.history-panel');\n  if (historyPanel) {\n    createTreeView(comp.log, historyPanel, { objName: 'log' });\n  }\n}\n\ndevtools.populateViewPanel = function(comp) {\n  const viewPanel = document.querySelector('.view-panel');\n  if (viewPanel) {\n    const panelContents = comp.view+\"\";\n    viewPanel.value = `${panelContents}`;\n  }\n}\n\ndevtools.populateStylePanel = function(comp) {\n  const stylePanel = document.querySelector('.style-panel');\n  if (stylePanel) {\n    const panelContents = comp.style ? comp.style+\"\" : '';\n    stylePanel.value = panelContents;\n  }\n}\n\nexport default devtools;\n"],"names":["_typeof","Symbol","iterator","obj","constructor","EventEmitter","this","_events","_maxListeners","undefined","isFunction","arg","isObject","isUndefined","JSONTreeView","name_","value_","parent_","isRoot_","self","arguments","length","call","emit","prototype","on","removeAllListeners","name","value","type","oldType","filterText","hidden","readonly","readonlyWhenFiltering","alwaysShowRoot","showCount","showCountOfObjectOrArray","includingRootName","domEventListeners","children","expanded","edittingName","edittingValue","nameEditable","valueEditable","dom","container","document","createElement","collapseExpand","separator","spacing","delete","insert","setBit","n","i","b","j","refresh","silent","expandable","forEach","child","style","display","expand","collapse","recursive","className","classList","add","remove","keys","Object","map","v","k","indexOf","splice","removeChild","key","addChild","destroy","event","pop","element","removeEventListener","fn","setName","newName","nameType","oldName","Error","innerText","setValue","newValue","str","len","oldValue","getType","updateObjectChildCount","val","onChildRename","onChildDelete","onChildChange","onChildAppend","onChildClick","onChildExpand","onChildCollapse","onChildRefresh","push","appendChild","parentNode","parent","isRoot","editField","field","editable","inserting","setAttribute","focus","execCommand","itemClicked","withRootName","editFieldStop","p","edittingNameText","removeAttribute","text","JSON","parse","err","editFieldKeyPressed","e","editFieldTabPressed","preventDefault","numericValueKeyDown","currentValue","increment","shiftKey","ctrlKey","metaKey","parseFloat","isNaN","Number","toFixed","Array","isArray","onCollapseExpandClick","onInsertClick","editValue","editName","onDeleteClick","keyPath","original","unshift","nameOrValue","sender","recursed","deletedValue","parentType","passive","addDomEventListener","addEventListener","defineProperties","enumerable","get","result","set","ro","rowf","h","show","updateCount","bind","createTreeView","opts","oName","objName","shouldExpand","view","window","data","innerHTML","defaultMaxListeners","setMaxListeners","TypeError","er","handler","args","listeners","error","context","slice","apply","addListener","listener","m","newListener","warned","console","trace","once","fired","g","removeListener","list","position","listenerCount","evlistener","emitter","hooks","BehaveHooks","hookName","theHook","Behave","userOpts","String","repeat","times","half","filter","func","t","res","thisp","tab","newLine","defaults","textarea","replaceTab","softTabs","tabSize","autoOpen","overwrite","autoStrip","autoIndent","fence","charSettings","keyMap","open","close","canBreak","utils","_callHook","passData","theEditor","textVal","caretPos","cursor","editor","levelsDeep","caret","pos","lines","current","getLine","total","getLines","defineNewLine","ta","defineTabSize","OTabSize","MozTabSize","substring","split","selectionStart","selection","range","createTextRange","rangeDupeBookmark","createRange","duplicate","getBookmark","moveToBookmark","moveStart","start","end","setSelectionRange","moveEnd","select","normalizedValue","textInputRange","endRange","textAreaElement","selectionEnd","parentElement","compareEndPoints","replace","fenceRange","hacked","matchedFence","matchCase","isEven","_this","left","levels","charAt","toDecrement","quoteMap","join","finalLevels","deepExtend","destination","source","property","addEvent","eventName","attachEvent","removeEvent","detachEvent","preventDefaultEvent","returnValue","intercept","keyCode","toReturn","tempStart","toIndent","right","edited","finalCursorPos","leftChar","rightChar","numTabs","ourIndent","closingBreak","sel","charFuncs","_char","action","theCode","which","fromCharCode","listen","module","exports","ender","define","amd","devtools","toggleBtn","layout","init","devtoolsCss","head","devtoolsView","body","append","devtoolsToggleBtn","querySelector","mainUI","toolbarBtns","querySelectorAll","el","rmBtnHighlights","tabs","oTab","dTab","cTab","eTab","openBtn","toRightBtn","toBottomBtn","closeBtn","marginBottom","marginRight","selectBtn","overviewBtn","detailsBtn","consoleBtn","editorBtn","hideTabs","getComponent","rwStateBtn","backStateBtn","forwardStateBtn","ffStateBtn","currentComponent","rw","ff","viewSaveBtn","styleSaveBtn","txt","eval2","eval","sjComponents","uid","getComponents","components","highlight","rmHighlight","addToPanel","elem","populateUI","target","getUidFromChildren","getUidFromParents","dataset","populateOverviewPanel","populateDetailsPanel","populateStateHistoryPanel","populateViewPanel","populateStylePanel","$c","getAttribute","firstElementChild","comp","treePanel","state","panelContents","reactive","scopedCss","debug","schema","middleware","actionsList","historyPanel","log","viewPanel","stylePanel"],"mappings":"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"}