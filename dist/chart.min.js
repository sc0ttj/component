!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Chart=e()}(this,(function(){"use strict";const t="arc arcTo beginPath bezierCurveTo clearRect clip closePath createImageData createLinearGradient createRadialGradient createPattern drawFocusRing drawImage fill fillRect fillText getImageData isPointInPath lineTo measureText moveTo putImageData quadraticCurveTo rect restore rotate save scale setTransform stroke strokeRect strokeText transform translate".split(" "),e="canvas fillStyle font globalAlpha globalCompositeOperation lineCap lineJoin lineWidth miterLimit shadowOffsetX shadowOffsetY shadowBlur shadowColor strokeStyle textAlign textBaseline".split(" ");function i(t,e,i){return function(){return t.apply(e,arguments)||i}}function s(t,e,i){return function(s){return void 0===s?e[t]:(e[t]=s,i)}}const o="undefined"!=typeof window&&window&&window.devicePixelRatio||1,n=t=>"function"==typeof t,a=t=>Array.isArray(t),h=t=>!!a(t)&&t[0]>t[1],l=t=>a(t)?h(t)?t[1]:t[0]:0,r=t=>a(t)?h(t)?t[0]-t[1]:t[1]-t[0]:0,c=t=>+t*Math.PI/180,f=(t,e)=>{let i;for(let s in e)i=s,"fill"===s&&(i="fillStyle"),"stroke"===s&&(i="strokeStyle"),t[i]=e[s]};function d(t){const e=t.canvas,i=t.margin,s=e.width-i.right-i.left,o=e.height-i.top-i.bottom,n=i.left,a=i.top+o,{xRange:h,yRange:l,xScale:r,yScale:c,xLabels:f,yLabels:d,xDistance:y,yDistance:u}=t._d;return{x:n,y:a,w:s,h:o,margin:i,xRange:h,yRange:l,xScale:r,yScale:c,xLabels:f,yLabels:d,xDistance:y,yDistance:u}}function y(t,e,i="x",s,o={}){const{w:n,h:a,x:h,y:l}=e;if(t.save(),o.strokeStyle||o.stroke||(o.stroke="#222"),o&&f(t,o),t.beginPath(),"x"===i){let e=l-a/100*s;t.moveTo(h,e),t.lineTo(h+n,e)}else{let e=h+n/100*s;t.moveTo(e,l),t.lineTo(e,l-a)}t.closePath(),t.stroke(),t.restore()}function u(t,e,i="x",s,o,n,a,h,l={}){const{w:r,h:c,x:d,y:y}=e,u="x"===i?r:c,g=n?0:a/2;if(0!==o){t.save(),l.strokeStyle||l.stroke||(l.stroke="#bbb"),l&&f(t,l);for(let e=0;e<=u+(n?a/4:0);e+=Math.round(a)*h){if(t.beginPath(),"x"===i&&d+e+g<=d+r){const i=d+e+g,n=s<50?y:y-c;t.moveTo(i,n),t.lineTo(i,n-o/100*c)}if("y"===i&&y-e-g>=y-c){const i=s<50?d:d+r,n=y-e-g;t.moveTo(i,n),t.lineTo(i+o/100*r,n)}t.stroke(),t.closePath()}t.restore()}}const g=(t,e,i,s,o)=>{const a=Math.abs,h=e?t[1]+a(i*s):t[0]+a(i*s);let l=Array.isArray(o)&&void 0!==o[i]?o[i]:h;return n(o)&&(l=o(h,i)),l},x=(t,e)=>t.measureText(e).width,p=(t,e)=>{const i=t.measureText(e);return i.fontBoundingBoxAscent+i.fontBoundingBoxDescent},b={clear:function(t){!0===t&&this.setTransform(1,0,0,1,0,0),this.clearRect(0,0,this.canvas.width*o,this.canvas.height*o)},size:function(t,e,i){if(this.w===t&&this.h===e)return;this.w=t||e*i,this.h=e||t*i;const s=this.canvas,n=s.style;s.width=this.w*o,s.height=this.h*o,n.width=this.w+"px",n.height=this.h+"px",n.objectFit=i?"contain":null,"2d"===this.contextType&&1!==o&&this.scale(o,o)},dimensions:function(){return d(this)},useData:function(t){this.prevData=this.d,this.d=n(t)?t(this.prevData):t,this._d=this._d||{}},drawEach:function(t){if(!this.d)return;const{w:e,h:i,x:s,y:o}=d(this),n=this._d,r=l(n.xRange),y=l(n.yRange),u=h(n.xRange),g=h(n.yRange),x=n.xDistance,p=n.yDistance,b=n.xScale,T=n.yScale,m=a(this.d)?{data:[...this.d]}:{...this.d},k=Object.keys(m),v=k.length,w=(t,i)=>u?t||0===t?s+e-x*t-x*r:s+e-x*i*b:t||0===t?s+x*t-x*r:s+x*i*b,P=(t,e)=>g?t||0===t?o-i+p*t-p*y:o-i+p*e*T:t||0===t?o-p*t+p*y:o-p*e*T;let R={},D=()=>{},S={},L={};k.forEach((n,a)=>{const h=m[k[a-1]];m[k[a+1]];let l=-90;S[a]=[],m[n].forEach((t,d)=>{const b=({slice:a=0,totalDegrees:h=360,px:r,py:d,radius:y=e-e/100*50,innerRadius:u=0,rotation:g=0,style:x})=>{if(Object.keys(t).length<=5)return;const p=r||s+e/2,b=d||o-i/2,T=Object.keys(t).find(e=>t[e]===a),k=((t,e)=>t.filter(t=>t[e]).reduce((t,i)=>t+i[e],0))(m[n],T),v=a/k*100*h/100;x&&(this.save(),f(this,x)),this.beginPath(),this.arc(p,b,y,c(l-g),c(l+v-g)),this.lineTo(p,b),this.fill(),this.closePath(),u&&(this.save(),this.globalCompositeOperation="destination-out",this.beginPath(),this.arc(p,b,u,0,2*Math.PI),this.moveTo(y,0),this.fill(),this.restore()),l+=v,x&&this.restore()},T=({height:t,width:n,offset:l=0,stacked:c=!1,padding:b=12,style:T})=>{const m=t||0===t,k=m?x:p,w=k/100*b,P=c?k-w:k/v-w/2,R=m?t:n,D=P*v/2;let L=0;c&&Object.keys(S).forEach(t=>{const e=0===S[t].length?d-1:d;L+=S[t][e]||0});let _=h?L*(m?p:x):0;T&&(this.save(),f(this,T)),this.beginPath(),this.fillRect(u?m?c?s+e-x*d-P/2:s+e-P*a-x*d:c?s+e-_:s+e:m?c?s+x*d-P/2:s+P*a+x*d-D:s+_+x*l,g?m?o-i+(c?_:0-p*l):c?o-i+p*d+P/2:o-i+P*a+p*d:m?o-(c?_:0)+p*l:c?o-p*d+P/2:o-P*a-p*d+D,u?m?c?x-w:P:-x*(c?R:n)+x*r:m?c?x-w:P:x*R-(c?0:x*r),g?m?p*(c?R:t)-(c?0:p*y):-P:m?-p*(c?R:t)+(c?0:p*y):-P),c&&S[a].push(R),this.stroke(),this.closePath(),T&&this.restore()};t.circle=({px:t,py:e,radius:i,start:s,end:o,rotate:n=0,style:a})=>{if(!t&&!e)return;const h=w(t,d),l=P(e,d);a&&(this.save(),f(this,a)),this.beginPath(),this.arc(h,l,i||5,c(s+n)||0,c(o+n)||2*Math.PI),this.lineTo(h,l),this.closePath(),this.stroke(),this.fill(),this.closePath(),a&&this.restore()},t.bar=T,t.pie=b,t.arc=({slice:t=0,totalDegrees:e=180,px:i,py:s,radius:o,innerRadius:n=50,rotation:a=90,style:h})=>{b({slice:t,totalDegrees:e,px:i,py:s,radius:o,innerRadius:n,rotation:a,style:h})},t.line=t=>{R[n]=R[n]||[],R[n].push(t)},t.candle=({open:t,close:i,low:o,high:n,green:a,red:h,padding:l=80,style:r})=>{const c=Math.abs(t-i),y=c-(i>t?i:t),g=u?s+e-x*d:s+x*d;n-o>0&&(this.beginPath(),this.save(),f(this,r),this.moveTo(g,P(n,d)),this.lineTo(g,P(o,d)-1),this.stroke(),this.restore()),T({height:c,offset:y,padding:l,style:{...r,fill:i>t?a||"#0d0":h||"#d00"}})}}),t(m[n],n,a)}),D=()=>{const t=Object.keys(R);if(t.length<1)return;let n,a,h,l;this.save(),t.forEach((t,r)=>{L[t]=[],R[t].forEach((r,c)=>{const{px:d,py:y,stacked:x,smooth:p,style:b}=r;b&&f(this,b);let T=0,m=0;if(x&&Object.keys(L).forEach(t=>{T+=L[t][c]||0,m+=L[t][c+1]||0}),n=w(d,c),a=P(x?y+T:y,c),l=b.fillStyle||b.fill,h=x,0===c&&(this.beginPath(),l&&(u?this.moveTo(s+e,g?o-i:o):this.moveTo(n,a))),d||y)if(p){const e=R[t][c+1];if(e){const t=w(e.px,c+1),i=P(e.py+m,c+1),s=(n+t)/2,o=(a+i)/2,h=(s+n)/2,l=(s+t)/2;this.quadraticCurveTo(h,a,s,o),this.quadraticCurveTo(l,i,t,i)}}else this.lineTo(n,a);x&&L[t].push(y)}),this.stroke(),l&&(this.save(),this.lineTo(n,g?o-i:o),u||this.lineTo(s,g?o-i:o),h&&(this.globalCompositeOperation="destination-over"),this.globalAlpha=.75,this.fill(),this.restore()),this.closePath()}),this.restore(),R={}},D()},margin:function(t,e,i,s){this.margin={top:t,bottom:e,left:i,right:s}},setStyle:function(t){f(this,t)},xAxis:function({range:t,scale:e=1,yPos:i=0,tickLength:s=5,label:o=!1,labelBelow:n=!0,tickLabelCentered:a=!1,tickCentered:h=!0,tickLabels:l,style:c,tickStyle:f}){const{w:b,h:T,x:m,y:k}=d(this),v=t[0]>t[1],w=r(t),P=x(this,o),R=p(this,o),D=Math.abs(b/w);this._d.xRange=t,this._d.xScale=e,this._d.xDistance=Math.round(D),this._d.xLabels=[],u(this,{w:b,h:T,x:m,y:k},"x",i,i<=50?s:-s,h,D,e,f),y(this,{w:b,h:T,x:m,y:k},"x",i,c);for(let s=0,o=0;s<=b+D/2;s+=D*e){const n=g(t,v,o,e,l),h=x(this,n),r=i<=50?k+R+R/2-T/100*i:k-T/100*i-R,c=v?a?m+b-s-h/2:m+b-s:a?m+s-h/2:m+s;this._d.xLabels.push(n),this.fillText(n,c,r),o++}o&&this.fillText(o,m+b/2-P/2,n?k+3*R:k-T-2*R-R/2)},yAxis:function({range:t,scale:e=1,xPos:i=0,tickLength:s=5,label:o=!1,labelLeft:n=!0,tickCentered:a=!0,tickLabels:h,style:l,tickStyle:c}){const{w:f,h:b,x:T,y:m}=d(this),k=t[0]>t[1],v=r(t),w=x(this,o),P=p(this,o),R=Math.abs(b/v);let D=0;this._d.yRange=t,this._d.yScale=e,this._d.yDistance=Math.round(R),this._d.yLabels=[],u(this,{w:f,h:b,x:T,y:m},"y",i,i<=50?s:-s,a,R,e,c),y(this,{w:f,h:b,x:T,y:m},"y",i,l);for(let s=0,o=0;s<=b;s+=R*e){const n=g(t,k,o,e,h),a=x(this,n),l=k?m-b+s+2:m-s+4,r=i<=50?T-P-a+f/100*i:T+f/100*i+P;a>=D&&(D=a),this._d.yLabels.push(n),this.fillText(n,r,l),o++}o&&this.fillText(o,n?T-w-2*P-D:i<=50?T+f+P:T+f+2*P+D,m+4-b/2)}},T=Object.keys(b);return function(o,n){let a,h=t.length;for(this.context=o;h--;)a=t[h],this[a]=i(o[a],o,this);for(h=T.length;h--;)a=T[h],this[a]=i(b[a],o,this);for(h=e.length;h--;)a=e[h],this[a]=s(a,o,this);this.canvas=o.canvas,this.context.margin={top:0,bottom:0,left:0,right:0}}}));
//# sourceMappingURL=chart.min.js.map
