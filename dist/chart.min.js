!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Chart=e()}(this,(function(){"use strict";const t="arc arcTo beginPath bezierCurveTo clearRect clip closePath createImageData createLinearGradient createRadialGradient createPattern drawFocusRing drawImage fill fillRect fillText getImageData isPointInPath lineTo measureText moveTo putImageData quadraticCurveTo rect restore rotate save scale setTransform stroke strokeRect strokeText transform translate".split(" "),e="canvas fillStyle font globalAlpha globalCompositeOperation lineCap lineJoin lineWidth miterLimit shadowOffsetX shadowOffsetY shadowBlur shadowColor strokeStyle textAlign textBaseline".split(" ");function i(t,e,i){return function(){return t.apply(e,arguments)||i}}function s(t,e,i){return function(s){return void 0===s?e[t]:(e[t]=s,i)}}const o="undefined"!=typeof window&&window&&window.devicePixelRatio||1,h=t=>"function"==typeof t,n=t=>Array.isArray(t),a=t=>!!n(t)&&t[0]>t[1],l=t=>n(t)?a(t)?t[1]:t[0]:0,r=t=>n(t)?a(t)?t[0]-t[1]:t[1]-t[0]:0,c=t=>+t*Math.PI/180,f=(t,e)=>{let i;for(let s in e)i=s,"fill"===s&&(i="fillStyle"),"stroke"===s&&(i="strokeStyle"),t[i]=e[s]};function d(t){const e=t.canvas,i=t.margin,s=e.width-i.right-i.left,o=e.height-i.top-i.bottom,h=i.left,n=i.top+o,{xRange:a,yRange:l,xScale:r,yScale:c,xLabels:f,yLabels:d,xDistance:y,yDistance:u}=t._d;return{x:h,y:n,w:s,h:o,margin:i,xRange:a,yRange:l,xScale:r,yScale:c,xLabels:f,yLabels:d,xDistance:y,yDistance:u}}function y(t,e,i="x",s,o={}){const{w:h,h:n,x:a,y:l}=e;if(t.save(),o.strokeStyle||o.stroke||(o.stroke="#222"),o&&f(t,o),t.beginPath(),"x"===i){let e=l-n/100*s;t.moveTo(a,e),t.lineTo(a+h,e)}else{let e=a+h/100*s;t.moveTo(e,l),t.lineTo(e,l-n)}t.closePath(),t.stroke(),t.restore()}function u(t,e,i="x",s,o,h,n,a,l={}){const{w:r,h:c,x:d,y:y}=e,u="x"===i?r:c,g=h?0:n/2;if(0!==o){t.save(),l.strokeStyle||l.stroke||(l.stroke="#bbb"),l&&f(t,l);for(let e=0;e<=u+(h?n/4:0);e+=Math.round(n)*a){if(t.beginPath(),"x"===i&&d+e+g<=d+r){const i=d+e+g,h=s<50?y:y-c;t.moveTo(i,h),t.lineTo(i,h-o/100*c)}if("y"===i&&y-e-g>=y-c){const i=s<50?d:d+r,h=y-e-g;t.moveTo(i,h),t.lineTo(i+o/100*r,h)}t.stroke(),t.closePath()}t.restore()}}const g=(t,e,i,s,o)=>{const n=Math.abs,a=e?t[1]+n(i*s):t[0]+n(i*s);let l=Array.isArray(o)&&void 0!==o[i]?o[i]:a;return h(o)&&(l=o(a,i)),l},x=(t,e)=>t.measureText(e).width,p=(t,e)=>{const i=t.measureText(e);return i.fontBoundingBoxAscent+i.fontBoundingBoxDescent},b={clear:function(t){!0===t&&this.setTransform(1,0,0,1,0,0),this.clearRect(0,0,this.canvas.width*o,this.canvas.height*o)},size:function(t,e,i){if(this.w===t&&this.h===e)return;this.w=t||e*i,this.h=e||t*i;const s=this.canvas,h=s.style;s.width=this.w*o,s.height=this.h*o,h.width=this.w+"px",h.height=this.h+"px",h.objectFit=i?"contain":null,"2d"===this.contextType&&1!==o&&this.scale(o,o)},dimensions:function(){return d(this)},useData:function(t){this.prevData=this.d,this.d=h(t)?t(this.prevData):t,this._d=this._d||{}},drawEach:function(t){if(!this.d)return;const{w:e,h:i,x:s,y:o}=d(this),h=this._d,r=l(h.xRange),y=l(h.yRange),u=a(h.xRange),g=a(h.yRange),x=h.xDistance,p=h.yDistance,b=h.xScale,T=h.yScale,m=n(this.d)?{data:[...this.d]}:{...this.d},v=Object.keys(m),k=v.length,w=(t,i)=>u?t||0===t?s+e-x*t-x*r:s+e-x*i*b:t||0===t?s+x*t-x*r:s+x*i*b,P=(t,e)=>g?t||0===t?o-i+p*t-p*y:o-i+p*e*T:t||0===t?o-p*t+p*y:o-p*e*T;let R={},D=()=>{},S={},L={};v.forEach((h,n)=>{const a=m[v[n-1]];m[v[n+1]];let l=-90;S[n]=[],m[h].forEach((t,d)=>{const b=({slice:n=0,totalDegrees:a=360,px:r,py:d,radius:y=e-e/100*50,innerRadius:u=0,rotation:g=0,style:x})=>{if(Object.keys(t).length<=5)return;const p=r||s+e/2,b=d||o-i/2,T=Object.keys(t).find(e=>t[e]===n),v=((t,e)=>t.filter(t=>t[e]).reduce((t,i)=>t+i[e],0))(m[h],T),k=n/v*100*a/100;x&&(this.save(),f(this,x)),this.beginPath(),this.arc(p,b,y,c(l-g),c(l+k-g)),this.lineTo(p,b),this.fill(),this.closePath(),u&&(this.save(),this.globalCompositeOperation="destination-out",this.beginPath(),this.arc(p,b,u,0,2*Math.PI),this.moveTo(y,0),this.fill(),this.restore()),l+=k,x&&this.restore()},T=({height:t,width:h,offset:l=0,stacked:c=!1,padding:b=12,style:T})=>{const m=t||0===t,v=m?x:p,w=v/100*b,P=c?v-w:v/k-w/2,R=m?t:h,D=P*k/2;let L=0;c&&Object.keys(S).forEach(t=>{const e=0===S[t].length?d-1:d;L+=S[t][e]||0});let _=a?L*(m?p:x):0;T&&(this.save(),f(this,T)),this.beginPath(),this.fillRect(u?m?c?s+e-x*d-P/2:s+e-P*n-x*d:c?s+e-_:s+e:m?c?s+x*d-P/2:s+P*n+x*d-D:s+_+x*l,g?m?o-i+(c?_:0-p*l):c?o-i+p*d+P/2:o-i+P*n+p*d:m?o-(c?_:0)+p*l:c?o-p*d+P/2:o-P*n-p*d+D,u?m?c?x-w:P:-x*(c?R:h)+x*r:m?c?x-w:P:x*R-(c?0:x*r),g?m?p*(c?R:t)-(c?0:p*y):-P:m?-p*(c?R:t)+(c?0:p*y):-P),c&&S[n].push(R),this.stroke(),this.closePath(),T&&this.restore()};t.circle=({px:t,py:e,radius:i,start:s,end:o,rotate:h=0,style:n})=>{if(!t&&!e)return;const a=w(t,d),l=P(e,d);n&&(this.save(),f(this,n)),this.beginPath(),this.arc(a,l,i||5,c(s+h)||0,c(o+h)||2*Math.PI),this.lineTo(a,l),this.closePath(),this.stroke(),this.fill(),this.closePath(),n&&this.restore()},t.bar=T,t.pie=b,t.arc=({slice:t=0,totalDegrees:e=180,px:i,py:s,radius:o,innerRadius:h=50,rotation:n=90,style:a})=>{b({slice:t,totalDegrees:e,px:i,py:s,radius:o,innerRadius:h,rotation:n,style:a})},t.line=t=>{R[h]=R[h]||[],R[h].push(t)},t.candle=({open:t,close:i,low:o,high:h,green:n,red:a,padding:l=80,style:r})=>{const c=Math.abs(t-i),y=c-(i>t?i:t),g=u?s+e-x*d:s+x*d;h-o>0&&(this.beginPath(),this.save(),f(this,r),this.moveTo(g,P(h,d)),this.lineTo(g,P(o,d)-1),this.stroke(),this.restore()),T({height:c,offset:y,padding:l,style:{...r,fill:i>t?n||"#0d0":a||"#d00"}})}}),t(m[h],h,n)}),D=()=>{const t=Object.keys(R);if(t.length<1)return;let h,n,a,l;this.save(),t.forEach((t,r)=>{L[t]=[],R[t].forEach((r,c)=>{const{px:d,py:y,stacked:x,smooth:p,style:b}=r;b&&f(this,b);let T=0,m=0;if(x&&Object.keys(L).forEach(t=>{T+=L[t][c]||0,m+=L[t][c+1]||0}),h=w(d,c),n=P(x?y+T:y,c),l=b.fillStyle||b.fill,a=x,0===c&&(this.beginPath(),l&&(u?this.moveTo(s+e,g?o-i:o):this.moveTo(h,n))),d||y)if(p){const e=R[t][c+1];if(e){const t=w(e.px,c+1),i=P(e.py+m,c+1),s=(h+t)/2,o=(n+i)/2,a=(s+h)/2,l=(s+t)/2;this.quadraticCurveTo(a,n,s,o),this.quadraticCurveTo(l,i,t,i)}}else this.lineTo(h,n);x&&L[t].push(y)}),this.stroke(),l&&(this.save(),this.lineTo(h,g?o-i:o),u||this.lineTo(s,g?o-i:o),a&&(this.globalCompositeOperation="destination-over"),this.globalAlpha=.75,this.fill(),this.restore()),this.closePath()}),this.restore(),R={}},D()},plotFn:function(t,e={}){const{x:i,y:s,h:o,w:h,margin:n,xDistance:a}=d(this);let l,r,c=(e.x||0)+this.canvas.width/2,y=(e.y||0)+this.canvas.height/2,u=a,g=Math.round((h-c)/2),x=Math.round(-c/2);this.beginPath(),f(this,e);for(let e=x;e<=g;e++)l=i+2*e,r=u*t(l/u),y-r<=n.top+o&&y+r<=s&&(e===x?this.moveTo(c+l,y-r):this.lineTo(c+l,y-r));this.stroke(),this.closePath()},margin:function(t,e,i,s){this.margin={top:t,bottom:e,left:i,right:s}},setStyle:function(t){f(this,t)},xAxis:function({range:t,scale:e=1,yPos:i=0,tickLength:s=5,label:o=!1,labelBelow:h=!0,tickLabelCentered:n=!1,tickCentered:a=!0,tickLabels:l,style:c,tickStyle:f}){const{w:b,h:T,x:m,y:v}=d(this),k=t[0]>t[1],w=r(t),P=x(this,o),R=p(this,o),D=Math.abs(b/w);this._d.xRange=t,this._d.xScale=e,this._d.xDistance=Math.round(D),this._d.xLabels=[],u(this,{w:b,h:T,x:m,y:v},"x",i,i<=50?s:-s,a,D,e,f),y(this,{w:b,h:T,x:m,y:v},"x",i,c);for(let s=0,o=0;s<=b+D/2;s+=D*e){const h=g(t,k,o,e,l),a=x(this,h),r=i<=50?v+R+R/2-T/100*i:v-T/100*i-R,c=k?n?m+b-s-a/2:m+b-s:n?m+s-a/2:m+s;this._d.xLabels.push(h),this.fillText(h,c,r),o++}o&&this.fillText(o,m+b/2-P/2,h?v+3*R:v-T-2*R-R/2)},yAxis:function({range:t,scale:e=1,xPos:i=0,tickLength:s=5,label:o=!1,labelLeft:h=!0,tickCentered:n=!0,tickLabels:a,style:l,tickStyle:c}){const{w:f,h:b,x:T,y:m}=d(this),v=t[0]>t[1],k=r(t),w=x(this,o),P=p(this,o),R=Math.abs(b/k);let D=0;this._d.yRange=t,this._d.yScale=e,this._d.yDistance=Math.round(R),this._d.yLabels=[],u(this,{w:f,h:b,x:T,y:m},"y",i,i<=50?s:-s,n,R,e,c),y(this,{w:f,h:b,x:T,y:m},"y",i,l);for(let s=0,o=0;s<=b;s+=R*e){const h=g(t,v,o,e,a),n=x(this,h),l=v?m-b+s+2:m-s+4,r=i<=50?T-P-n+f/100*i:T+f/100*i+P;n>=D&&(D=n),this._d.yLabels.push(h),this.fillText(h,r,l),o++}o&&this.fillText(o,h?T-w-2*P-D:i<=50?T+f+P:T+f+2*P+D,m+4-b/2)}},T=Object.keys(b);return function(o,h){let n,a=t.length;for(this.context=o;a--;)n=t[a],this[n]=i(o[n],o,this);for(a=T.length;a--;)n=T[a],this[n]=i(b[n],o,this);for(a=e.length;a--;)n=e[a],this[n]=s(n,o,this);this.canvas=o.canvas,this.context.margin={top:0,bottom:0,left:0,right:0}}}));
//# sourceMappingURL=chart.min.js.map
