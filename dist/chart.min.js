!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Chart=e()}(this,(function(){"use strict";const t="arc arcTo beginPath bezierCurveTo clearRect clip closePath createImageData createLinearGradient createRadialGradient createPattern drawFocusRing drawImage fill fillRect fillText getImageData isPointInPath lineTo measureText moveTo putImageData quadraticCurveTo rect restore rotate save scale setTransform stroke strokeRect strokeText transform translate".split(" "),e="canvas fillStyle font globalAlpha globalCompositeOperation lineCap lineJoin lineWidth miterLimit shadowOffsetX shadowOffsetY shadowBlur shadowColor strokeStyle textAlign textBaseline".split(" ");function i(t,e,i){return function(){return t.apply(e,arguments)||i}}function s(t,e,i){return function(s){return void 0===s?e[t]:(e[t]=s,i)}}const n="undefined"!=typeof window&&window&&window.devicePixelRatio||1,o=t=>"function"==typeof t,h=t=>Array.isArray(t),a=t=>!!h(t)&&t[0]>t[1],l=t=>h(t)?a(t)?t[1]:t[0]:0,r=t=>h(t)?a(t)?t[0]-t[1]:t[1]-t[0]:0,c=t=>+t*Math.PI/180,f=(t,e)=>{let i;for(let s in e)i=s,"fill"===s&&(i="fillStyle"),"stroke"===s&&(i="strokeStyle"),t[i]=e[s]};function d(t){const e=t.canvas,i=t.margin,s=e.width-i.right-i.left,n=e.height-i.top-i.bottom,o=i.left,h=i.top+n,{xRange:a,yRange:l,xScale:r,yScale:c,xLabels:f,yLabels:d,xDistance:u,yDistance:y}=t._d;return{x:o,y:h,w:s,h:n,margin:i,xRange:a,yRange:l,xScale:r,yScale:c,xLabels:f,yLabels:d,xDistance:u,yDistance:y}}function u(t,e,i="x",s,n=.5,o="#222"){const{w:h,h:a,x:l,y:r}=e;if(t.save(),t.lineWidth=n,t.strokeStyle=o,t.beginPath(),"x"===i){let e=r-a/100*s;t.moveTo(l,e),t.lineTo(l+h,e)}else{let e=l+h/100*s;t.moveTo(e,r),t.lineTo(e,r-a)}t.closePath(),t.stroke(),t.restore()}function y(t,e,i="x",s,n,o,h,a,l=.5,r="#bbb"){const{w:c,h:f,x:d,y:u}=e,y="x"===i?c:f,g=o?0:h/2;if(0!==n){t.save(),t.lineWidth=l,t.strokeStyle=r;for(let e=0;e<=y+(o?h/4:0);e+=Math.round(h)*a){if(t.beginPath(),"x"===i&&d+e+g<=d+c){const i=d+e+g,o=s<50?u:u-f;t.moveTo(i,o),t.lineTo(i,o-n/100*f)}else if(u-e-g>=u-f){const i=s<50?d:d+c,o=u-e-g;t.moveTo(i,o),t.lineTo(i+n/100*c,o)}t.stroke(),t.closePath()}t.restore()}}const g=(t,e,i,s,n)=>{const h=Math.abs,a=e?t[1]+h(i*s):t[0]+h(i*s);let l=Array.isArray(n)&&void 0!==n[i]?n[i]:a;return o(n)&&(l=n(a,i)),l},x=(t,e)=>t.measureText(e).width,p=(t,e)=>{const i=t.measureText(e);return i.fontBoundingBoxAscent+i.fontBoundingBoxDescent},b={clear:function(t){!0===t&&this.setTransform(1,0,0,1,0,0),this.clearRect(0,0,this.canvas.width*n,this.canvas.height*n)},size:function(t,e,i){if(this.w===t&&this.h===e)return;this.w=t||e*i,this.h=e||t*i;const s=this.canvas,o=s.style;s.width=this.w*n,s.height=this.h*n,o.width=this.w+"px",o.height=this.h+"px",o.objectFit=i?"contain":null,"2d"===this.contextType&&1!==n&&this.scale(n,n)},dimensions:function(){return d(this)},useData:function(t){this.prevData=this.d,this.d=o(t)?t(this.prevData):t,this._d=this._d||{}},drawEach:function(t){if(!this.d)return;const{w:e,h:i,x:s,y:n}=d(this),o=this._d,r=l(o.xRange),u=l(o.yRange),y=a(o.xRange),g=a(o.yRange),x=o.xDistance,p=o.yDistance,b=o.xScale,T=o.yScale,m=h(this.d)?{data:[...this.d]}:{...this.d},v=Object.keys(m),w=v.length,k=(t,i)=>y?t||0===t?s+e-x*t-x*r:s+e-x*i*b:t||0===t?s+x*t-x*r:s+x*i*b,P=(t,e)=>g?t||0===t?n-i+p*t-p*u:n-i+p*e*T:t||0===t?n-p*t+p*u:n-p*e*T;let R={},D=()=>{},L={},S={};v.forEach((o,h)=>{const a=m[v[h-1]];m[v[h+1]];let l=-90;L[h]=[],m[o].forEach((t,d)=>{const b=({slice:h=0,totalDegrees:a=360,px:r,py:d,radius:u=e-e/100*50,innerRadius:y=0,rotation:g=0,style:x})=>{if(Object.keys(t).length<=5)return;const p=r||s+e/2,b=d||n-i/2,T=Object.keys(t).find(e=>t[e]===h),v=((t,e)=>t.filter(t=>t[e]).reduce((t,i)=>t+i[e],0))(m[o],T),w=h/v*100*a/100;x&&(this.save(),f(this,x)),this.beginPath(),this.arc(p,b,u,c(l-g),c(l+w-g)),this.lineTo(p,b),this.fill(),this.closePath(),y&&(this.save(),this.globalCompositeOperation="destination-out",this.beginPath(),this.arc(p,b,y,0,2*Math.PI),this.moveTo(u,0),this.fill(),this.restore()),l+=w,x&&this.restore()},T=({height:t,width:o,offset:l=0,stacked:c=!1,padding:b=12,style:T})=>{const m=t||0===t,v=m?x:p,k=v/100*b,P=c?v-k:v/w-k/2,R=m?t:o,D=P*w/2;let S=0;c&&Object.keys(L).forEach(t=>{const e=0===L[t].length?d-1:d;S+=L[t][e]||0});let _=a?S*(m?p:x):0;T&&(this.save(),f(this,T)),this.beginPath(),this.fillRect(y?m?c?s+e-x*d-P/2:s+e-P*h-x*d:c?s+e-_:s+e:m?c?s+x*d-P/2:s+P*h+x*d-D:s+_,g?m?n-i+(c?_:0-p*l):c?n-i+p*d+P/2:n-i+P*h+p*d:m?n-(c?_:0)+p*l:c?n-p*d+P/2:n-P*h-p*d+D,y?m?c?x-k:P:-x*(c?R:o)+x*r:m?c?x-k:P:x*R-(c?0:x*r),g?m?p*(c?R:t)-(c?0:p*u):-P:m?-p*(c?R:t)+(c?0:p*u):-P),c&&L[h].push(R),this.stroke(),this.closePath(),T&&this.restore()};t.circle=({px:t,py:e,radius:i,start:s,end:n,rotate:o=0,style:h})=>{if(!t&&!e)return;const a=k(t,d),l=P(e,d);h&&(this.save(),f(this,h)),this.beginPath(),this.arc(a,l,i||5,c(s+o)||0,c(n+o)||2*Math.PI),this.lineTo(a,l),this.closePath(),this.stroke(),this.fill(),this.closePath(),h&&this.restore()},t.bar=T,t.pie=b,t.arc=({slice:t=0,totalDegrees:e=180,px:i,py:s,radius:n,innerRadius:o=50,rotation:h=90,style:a})=>{b({slice:t,totalDegrees:e,px:i,py:s,radius:n,innerRadius:o,rotation:h,style:a})},t.line=t=>{R[o]=R[o]||[],R[o].push(t)},t.candle=({open:t,close:i,low:n,high:o,green:h,red:a,padding:l=80,style:r})=>{const c=Math.abs(t-i),u=c-(i>t?i:t),g=y?s+e-x*d:s+x*d;o-n>0&&(this.beginPath(),this.save(),f(this,r),this.moveTo(g,P(o,d)),this.lineTo(g,P(n,d)-1),this.stroke(),this.restore()),T({height:c,offset:u,padding:l,style:{...r,fill:i>t?h||"#0d0":a||"#d00"}})}}),t(m[o],o,h)}),D=()=>{const t=Object.keys(R);if(t.length<1)return;let o,h,a,l;this.save(),t.forEach((t,r)=>{S[t]=[],R[t].forEach((r,c)=>{const{px:d,py:u,stacked:x,smooth:p,style:b}=r;b&&f(this,b);let T=0,m=0;if(x&&Object.keys(S).forEach(t=>{T+=S[t][c]||0,m+=S[t][c+1]||0}),o=k(d,c),h=P(x?u+T:u,c),l=b.fillStyle||b.fill,a=x,0===c&&(this.beginPath(),l&&(y?this.moveTo(s+e,g?n-i:n):this.moveTo(o,h))),d||u)if(p){const e=R[t][c+1];if(e){const t=k(e.px,c+1),i=P(e.py+m,c+1),s=(o+t)/2,n=(h+i)/2,a=(s+o)/2,l=(s+t)/2;this.quadraticCurveTo(a,h,s,n),this.quadraticCurveTo(l,i,t,i)}}else this.lineTo(o,h);x&&S[t].push(u)}),this.stroke(),l&&(this.save(),this.lineTo(o,g?n-i:n),y||this.lineTo(s,g?n-i:n),a&&(this.globalCompositeOperation="destination-over"),this.globalAlpha=.75,this.fill(),this.restore()),this.closePath()}),this.restore(),R={}},D()},margin:function(t,e,i,s){this.margin={top:t,bottom:e,left:i,right:s}},setStyle:function(t){f(this,t)},xAxis:function({range:t,scale:e=1,yPos:i=0,tickLength:s=5,label:n=!1,labelBelow:o=!0,tickLabelCentered:h=!1,tickCentered:a=!0,tickLabels:l}){const{w:c,h:f,x:b,y:T}=d(this),m=t[0]>t[1],v=r(t),w=x(this,n),k=p(this,n),P=Math.abs(c/v);this._d.xRange=t,this._d.xScale=e,this._d.xDistance=Math.round(P),this._d.xLabels=[],y(this,{w:c,h:f,x:b,y:T},"x",i,i<=50?s:-s,a,P,e),u(this,{w:c,h:f,x:b,y:T},"x",i);for(let s=0,n=0;s<=c+P/2;s+=P*e){const o=g(t,m,n,e,l),a=x(this,o),r=i<=50?T+k+k/2-f/100*i:T-f/100*i-k,d=m?h?b+c-s-a/2:b+c-s:h?b+s-a/2:b+s;this._d.xLabels.push(o),this.fillText(o,d,r),n++}n&&this.fillText(n,b+c/2-w/2,o?T+3*k:T-f-2*k-k/2)},yAxis:function({range:t,scale:e=1,xPos:i=0,tickLength:s=5,label:n=!1,labelLeft:o=!0,tickCentered:h=!0,tickLabels:a}){const{w:l,h:c,x:f,y:b}=d(this),T=t[0]>t[1],m=r(t),v=x(this,n),w=p(this,n),k=Math.abs(c/m);let P=0;this._d.yRange=t,this._d.yScale=e,this._d.yDistance=Math.round(k),this._d.yLabels=[],y(this,{w:l,h:c,x:f,y:b},"y",i,i<=50?s:-s,h,k,e),u(this,{w:l,h:c,x:f,y:b},"y",i);for(let s=0,n=0;s<=c;s+=k*e){const o=g(t,T,n,e,a),h=x(this,o),r=T?b-c+s+2:b-s+4,d=i<=50?f-w-h+l/100*i:f+l/100*i+w;h>=P&&(P=h),this._d.yLabels.push(o),this.fillText(o,d,r),n++}n&&this.fillText(n,o?f-v-2*w-P:i<=50?f+l+w:f+l+2*w+P,b+4-c/2)}},T=Object.keys(b);return function(n,o){let h,a=t.length;for(this.context=n;a--;)h=t[a],this[h]=i(n[h],n,this);for(a=T.length;a--;)h=T[a],this[h]=i(b[h],n,this);for(a=e.length;a--;)h=e[a],this[h]=s(h,n,this);this.canvas=n.canvas,this.context.margin={top:0,bottom:0,left:0,right:0}}}));
//# sourceMappingURL=chart.min.js.map
