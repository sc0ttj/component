{"version":3,"file":"springTo.min.js","sources":["../src/raf.js","../src/springTo.js"],"sourcesContent":["var performance =\n  typeof process !== \"undefined\" && typeof require !== \"undefined\"\n    ? require(\"perf_hooks\").performance\n    : window.performance\n\nvar now = performance.now,\n  root = typeof window === \"undefined\" ? global : window,\n  vendors = [\"moz\", \"webkit\"],\n  suffix = \"AnimationFrame\",\n  raf = root[\"request\" + suffix],\n  caf = root[\"cancel\" + suffix] || root[\"cancelRequest\" + suffix]\n\nfor (var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + \"Request\" + suffix]\n  caf =\n    root[vendors[i] + \"Cancel\" + suffix] ||\n    root[vendors[i] + \"CancelRequest\" + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif (!raf || !caf) {\n  var last = 0,\n    id = 0,\n    queue = [],\n    frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if (queue.length === 0) {\n      var _now = now(),\n        next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for (var i = 0; i < cp.length; i++) {\n          if (!cp[i].cancelled) {\n            try {\n              cp[i].callback(last)\n            } catch (e) {\n              setTimeout(function() {\n                throw e\n              }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for (var i = 0; i < queue.length; i++) {\n      if (queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nif (typeof module !== \"undefined\") {\n  module.exports.raf = function(fn) {\n    // Wrap in a new function to prevent\n    // `cancel` potentially being assigned\n    // to the native rAF function\n    return raf.call(root, fn)\n  }\n  module.exports.cancel = function() {\n    caf.apply(root, arguments)\n  }\n  module.exports.polyfill = function(object) {\n    if (!object) {\n      object = root\n    }\n    object.requestAnimationFrame = raf\n    object.cancelAnimationFrame = caf\n  }\n}\n\nexport default function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\n","import raf from './raf.js'\n\n// if no requestAnimationFrame, use the 'raf' polyfill\nconst requestAnimationFrame =\n  typeof window !== \"undefined\" &&\n  typeof window.requestAnimationFrame !== \"undefined\"\n    ? window.requestAnimationFrame\n    : raf\n\n// Taken from https://github.com/raphaelameaume/lemonade-spring\nconst config = {\n  mass: 1,\n  stiffness: 0.1,\n  damping: 0.8,\n  precision: 0.01,\n};\n\nfunction noop() {}\n\nfunction isAtTarget(curr, dest, precision = config.precision) {\n  return curr < dest + precision && curr > dest - precision;\n}\n\nfunction createValueSpring(start, {\n  stiffness = config.stiffness,\n  damping = config.damping,\n  mass = config.mass,\n  precision = config.precision,\n  onUpdate = noop,\n  onComplete = noop,\n} = config) {\n  let previous, current;\n  let destination = null;\n\n  function target(dest) {\n    if (dest !== current) {\n      destination = dest;\n      spring.completed = false;\n    }\n  }\n\n  function update(frame) {\n    if (destination !== null) {\n      let velocity = (current - previous);\n      let acceleration = (destination - current) * spring.stiffness - velocity * spring.damping;\n      acceleration /= spring.mass;\n\n      previous = current;\n      current += velocity + acceleration;\n\n      if (isAtTarget(current, destination, spring.precision) && !spring.completed) {\n        spring.completed = true;\n        current = destination;\n        onUpdate(getValue());\n        onComplete(getValue());\n      } else if (!spring.completed) {\n        onUpdate({ ...getValue(), velocity, acceleration, frame });\n      }\n    }\n  }\n\n  function getValue() {\n    return current;\n  }\n\n  function setValue(value) {\n    previous = value;\n    current = value;\n    \n    destination = null;\n    spring.completed = false;\n  }\n\n  const spring = {\n    completed: false,\n    stiffness,\n    damping,\n    precision,\n    mass,\n    update,\n    getValue,\n    setValue,\n    target\n  };\n\n  spring.setValue(start);\n\n  return spring;\n}\n\nfunction createObjectSpring(start, {\n  stiffness = config.stiffness,\n  damping = config.damping,\n  mass = config.mass,\n  precision = config.precision,\n  onUpdate = noop,\n  onComplete = noop,\n} = config) {\n  let keys, previous, current;\n  let destination = {};\n  let completedKeys = [];\n\n  function target(dest) {\n    Object.keys(dest).forEach(key => {\n      let completedKeyIndex = completedKeys.indexOf(key);\n      if (completedKeyIndex >= 0) {\n        completedKeys.splice(completedKeyIndex, 1);\n      }\n\n      destination[key] = dest[key];\n    });\n\n    spring.completed = false;\n  }\n\n  function update(frame) { // pass in frame, so it can be receved by users callbacks (for convenience)\n    if (Object.keys(destination).length > 0) {\n      let velocity;\n      let acceleration;\n      for (let i = 0; i < keys.length; i++) {\n        let key = keys[i];\n\n        if (destination[key] !== undefined && !completedKeys.includes(key)) {\n          velocity = (current[key] - previous[key]);\n          acceleration = (destination[key] - current[key]) * spring.stiffness - velocity * spring.damping;\n          acceleration /= spring.mass;\n\n          previous[key] = current[key];\n          current[key] += velocity + acceleration;\n          start[key] = current[key];\n\n          if (isAtTarget(current[key], destination[key], spring.precision) && !completedKeys.includes(key)) {\n              completedKeys.push(key);\n          }\n        }\n      }\n\n      let isComplete = Object.keys(destination).every(key => completedKeys.includes(key));\n\n      if (isComplete && !spring.completed) {\n        spring.completed = true;\n\n        Object.keys(destination).forEach(key => {\n            current[key] = destination[key];\n        })\n\n        onUpdate(getValue());\n        onComplete(getValue());\n      } else if (!spring.completed) {\n        onUpdate({ ...getValue(), velocity, acceleration, frame });\n      }\n    }\n  }\n\n  function setValue(value) {\n    keys = Object.keys(value);\n\n    previous = keys.reduce((obj, key) => {\n      obj[key] = value[key];\n\n      return obj;\n    }, {});\n\n    current = keys.reduce((obj, key) => {\n      obj[key] = value[key];\n\n      return obj;\n    }, {});\n\n    destination = {};\n    completedKeys = [];\n    spring.completed = false;\n  }\n\n  function getValue() {\n      return current;\n  }\n\n  const spring = {\n    completed: false,\n    stiffness,\n    damping,\n    precision,\n    mass,\n    update,\n    getValue,\n    setValue,\n    target\n  };\n\n  spring.setValue(start);\n\n  return spring;\n}\n\nfunction createArraySpring(start, {\n  stiffness = config.stiffness,\n  damping = config.damping,\n  mass = config.mass,\n  precision = config.precision,\n  onUpdate = noop,\n  onComplete = noop,\n} = config) {\n  let previous = [];\n  let current = [];\n  let destination = null;\n  let completedIndexes = [];\n\n  function target(dest) {\n    if (!Array.isArray(dest)) {\n      console.error(\"Spring: target must match the type of startValue\");\n      return;\n    }\n\n    if (dest.length !== current.length) {\n      console.error(\"Spring: target length must match the length of the first argument.\");\n      return;\n    }\n\n    destination = dest;\n    completedIndexes = [];\n    spring.completed = false;\n  }\n\n  function update(frame) {\n    if (destination !== null) {\n      current.forEach((element, index) => {\n        let velocity = current[index] - previous[index];\n        let acceleration = (destination[index] - current[index]) * spring.stiffness - velocity * spring.damping;\n        acceleration /= spring.mass;\n\n        previous[index] = current[index];\n        current[index] += velocity + acceleration;\n        start[index] = current[index];\n\n        if (isAtTarget(current[index], destination[index], spring.precision) && !completedIndexes.includes(index)) {\n          completedIndexes.push(index);\n\n          if (completedIndexes.length === start.length) {\n            spring.completed = true;\n            onUpdate(destination);\n            onComplete();\n          }\n        } else if (!completedIndexes.length === start.length) {\n          onUpdate({ ...getValue(), velocity, acceleration, frame });\n        }\n      });\n    }\n  }\n\n  function getValue() {\n    return current;\n  }\n\n  function setValue(value) {\n    current = value.map(element => element);\n    previous = value.map(element => element);\n    completedIndexes = [];\n    destination = null;\n    spring.completed = false;\n  }\n\n  const spring = {\n    completed: false,\n    stiffness,\n    damping,\n    precision,\n    mass,\n    update,\n    getValue,\n    setValue,\n    target\n  };\n\n  spring.setValue(start);\n\n  return spring;\n}\n\nfunction createSpring(start, options) {\n  if (Array.isArray(start)) {\n    return createArraySpring(start, options);\n  }\n\n  if (typeof start === \"object\") {\n    return createObjectSpring(start, options);\n  }\n\n  return createValueSpring(start, options);\n}\n\n// sc0ttj - component specific stuff below\n\n// dont export this, we create the spring for the user, below\n//export default createSpring;\n\n\n// for each property in newState, get the value from the given state\nconst getStateToTween = function(state, newState) {\n  const stateToTween = {}\n  Object.entries(state).forEach(entry => {\n    const key = entry[0];\n    const val = entry[1];\n    if (newState[key]) stateToTween[key] = val;\n  })\n  return stateToTween\n}\n\nconst setTweenedValues = function(state, vals) {\n  function reducer(obj, [key, val]) {\n    obj[key] = val\n    if (typeof val === \"number\") {\n      obj[key] = vals.shift()\n    } else if (typeof val === \"object\") {\n      obj[key] = Object.entries(val).reduce(reducer, {})\n    }\n    return obj\n  }\n  const tweenedState = Object.entries(state).reduce(reducer, {})\n  return tweenedState\n}\n\nconst springTo = function(self, newState, springCfg) {\n  let spring;\n  let timeout;\n  \n  const defaults = {\n    onUpdate: noop,\n    onComplete: noop,\n  };\n\n  const cfg = {\n    ...defaults,\n    ...springCfg,\n    // wrap the users callbacks, so they receive the current tweened values as props\n    onStart: props => {\n      console.log('onStart => props', props);\n      const tweenedState = setTweenedValues(newState, [...props.values])\n      return springCfg.onStart(tweenedState)\n    },\n    onUpdate: props => {\n      console.log('onUpdate => props', props);\n      const tweenedState = setTweenedValues(newState, [...props.values])\n      console.log('onUpdate => tweenedState', tweenedState);\n      if (frame === 1) cfg.onStart(props);\n      return springCfg.onUpdate(tweenedState)\n    },\n    onComplete: props => {\n      console.log('onComplete => props', props);\n      const tweenedState = setTweenedValues(newState, [...props.values])\n      return springCfg.onComplete(tweenedState)\n    },\n  };\n\n  // get a state matching the shape of newState, but with values from self.state\n  const stateToTween = getStateToTween(self.state, newState)\n\n  // define the spring\n  spring = createSpring(stateToTween, { ...defaults, ...springCfg });\n\n  // console.log({\n  //   stateToTween,\n  //   newState,\n  //   springConfig: { ...defaults, ...springCfg },\n  //   spring,\n  // });\n\n  // pass the values to animate\n  spring.target(newState);\n\n  // define the animation loop\n  function loop() {\n    spring.update(frame);\n    frame += 1;\n    timeout = requestAnimationFrame(loop);\n  }\n\n  // start the loop\n  let frame = 1;\n  requestAnimationFrame(() => loop())\n\n};\n\nexport default springTo;\n\n"],"names":["now","process","require","performance","window","root","global","vendors","suffix","raf","caf","i","length","last","id","queue","callback","_now","next","Math","max","setTimeout","cp","slice","cancelled","e","round","push","handle","module","exports","fn","call","cancel","apply","arguments","polyfill","object","requestAnimationFrame","cancelAnimationFrame","config","mass","stiffness","damping","precision","noop","isAtTarget","curr","dest","createSpring","start","options","Array","isArray","onUpdate","onComplete","previous","current","destination","completedIndexes","getValue","spring","completed","update","frame","forEach","element","index","velocity","acceleration","includes","setValue","value","map","target","console","error","createArraySpring","keys","completedKeys","Object","key","undefined","every","reduce","obj","completedKeyIndex","indexOf","splice","createObjectSpring","createValueSpring","self","newState","springCfg","defaults","stateToTween","state","entries","entry","val","getStateToTween","loop"],"mappings":"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"}