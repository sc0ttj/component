{"version":3,"file":"springTo.min.js","sources":["../src/raf.js","../src/springTo.js"],"sourcesContent":["var performance =\n  typeof process !== \"undefined\" && typeof require !== \"undefined\"\n    ? require(\"perf_hooks\").performance\n    : window.performance\n\nvar now = performance.now,\n  root = typeof window === \"undefined\" ? global : window,\n  vendors = [\"moz\", \"webkit\"],\n  suffix = \"AnimationFrame\",\n  raf = root[\"request\" + suffix],\n  caf = root[\"cancel\" + suffix] || root[\"cancelRequest\" + suffix]\n\nfor (var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + \"Request\" + suffix]\n  caf =\n    root[vendors[i] + \"Cancel\" + suffix] ||\n    root[vendors[i] + \"CancelRequest\" + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif (!raf || !caf) {\n  var last = 0,\n    id = 0,\n    queue = [],\n    frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if (queue.length === 0) {\n      var _now = now(),\n        next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for (var i = 0; i < cp.length; i++) {\n          if (!cp[i].cancelled) {\n            try {\n              cp[i].callback(last)\n            } catch (e) {\n              setTimeout(function() {\n                throw e\n              }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for (var i = 0; i < queue.length; i++) {\n      if (queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nif (typeof module !== \"undefined\") {\n  module.exports.raf = function(fn) {\n    // Wrap in a new function to prevent\n    // `cancel` potentially being assigned\n    // to the native rAF function\n    return raf.call(root, fn)\n  }\n  module.exports.cancel = function() {\n    caf.apply(root, arguments)\n  }\n  module.exports.polyfill = function(object) {\n    if (!object) {\n      object = root\n    }\n    object.requestAnimationFrame = raf\n    object.cancelAnimationFrame = caf\n  }\n}\n\nexport default function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\n","import raf from './raf.js'\n\n// if no requestAnimationFrame, use the 'raf' polyfill\nconst requestAnimationFrame =\n  typeof window !== \"undefined\" &&\n  typeof window.requestAnimationFrame !== \"undefined\"\n    ? window.requestAnimationFrame\n    : raf\n\n// Taken from https://github.com/raphaelameaume/lemonade-spring\nconst config = {\n    stiffness: 0.1,\n    damping: 0.8,\n    mass: 1,\n    precision: 0.01,\n};\n\nfunction noop() {}\n\nfunction isAtTarget(curr, dest, precision = config.precision) {\n    return curr < dest + precision && curr > dest - precision;\n}\n\nfunction createValueSpring(start, {\n    stiffness = config.stiffness,\n    damping = config.damping,\n    mass = config.mass,\n    precision = config.precision,\n    onUpdate = noop,\n    onComplete = noop,\n} = config) {\n    let previous, current;\n    let destination = null;\n\n    function target(dest) {\n        if (dest !== current) {\n            destination = dest;\n            spring.completed = false;\n        }\n    }\n\n    function update() {\n        if (destination !== null) {\n            let velocity = (current - previous);\n            let acceleration = (destination - current) * spring.stiffness - velocity * spring.damping;\n            acceleration /= spring.mass;\n\n            previous = current;\n            current += velocity + acceleration;\n\n            if (isAtTarget(current, destination, spring.precision) && !spring.completed) {\n                spring.completed = true;\n                current = destination;\n                onUpdate(getValue());\n                onComplete(getValue());\n            } else if (!spring.completed) {\n                onUpdate(getValue());\n            }\n        }\n    }\n\n    function getValue() {\n        return current;\n    }\n\n    function setValue(value) {\n        previous = value;\n        current = value;\n        \n        destination = null;\n        spring.completed = false;\n    }\n\n    const spring = {\n        completed: false,\n        stiffness,\n        damping,\n        precision,\n        mass,\n        update,\n        getValue,\n        setValue,\n        target\n    };\n\n    spring.setValue(start);\n\n    return spring;\n}\n\nfunction createObjectSpring(start, {\n    stiffness = config.stiffness,\n    damping = config.damping,\n    mass = config.mass,\n    precision = config.precision,\n    onUpdate = noop,\n    onComplete = noop,\n} = config) {\n    let keys, previous, current;\n    let destination = {};\n    let completedKeys = [];\n\n    function target(dest) {\n        Object.keys(dest).forEach(key => {\n            let completedKeyIndex = completedKeys.indexOf(key);\n            if (completedKeyIndex >= 0) {\n                completedKeys.splice(completedKeyIndex, 1);\n            }\n\n            destination[key] = dest[key];\n        });\n\n        spring.completed = false;\n    }\n\n    function update() {\n        if (Object.keys(destination).length > 0) {\n            for (let i = 0; i < keys.length; i++) {\n                let key = keys[i];\n\n                if (destination[key] !== undefined && !completedKeys.includes(key)) {\n                    let velocity = (current[key] - previous[key]);\n                    let acceleration = (destination[key] - current[key]) * spring.stiffness - velocity * spring.damping;\n                    acceleration /= spring.mass;\n\n                    previous[key] = current[key];\n                    current[key] += velocity + acceleration;\n                    start[key] = current[key];\n\n                    if (isAtTarget(current[key], destination[key], spring.precision) && !completedKeys.includes(key)) {\n                        completedKeys.push(key);\n                    }\n                }\n            }\n\n            let isComplete = Object.keys(destination).every(key => completedKeys.includes(key));\n\n            if (isComplete && !spring.completed) {\n                spring.completed = true;\n\n                Object.keys(destination).forEach(key => {\n                    current[key] = destination[key];\n                })\n\n                onUpdate(getValue());\n                onComplete(getValue());\n            } else if (!spring.completed) {\n                onUpdate(getValue());\n            }\n        }\n    }\n\n    function setValue(value) {\n        keys = Object.keys(value);\n\n        previous = keys.reduce((obj, key) => {\n            obj[key] = value[key];\n\n            return obj;\n        }, {});\n\n        current = keys.reduce((obj, key) => {\n            obj[key] = value[key];\n\n            return obj;\n        }, {});\n\n        destination = {};\n        completedKeys = [];\n        spring.completed = false;\n    }\n\n    function getValue() {\n        return current;\n    }\n\n    const spring = {\n        completed: false,\n        stiffness,\n        damping,\n        precision,\n        mass,\n        update,\n        getValue,\n        setValue,\n        target\n    };\n\n    spring.setValue(start);\n\n    return spring;\n}\n\nfunction createArraySpring(start, {\n    stiffness = config.stiffness,\n    damping = config.damping,\n    mass = config.mass,\n    precision = config.precision,\n    onUpdate = noop,\n    onComplete = noop,\n} = config) {\n    let previous = [];\n    let current = [];\n    let destination = null;\n    let completedIndexes = [];\n\n    function target(dest) {\n        if (!Array.isArray(dest)) {\n            console.error(\"Spring: target must match the type of startValue\");\n            return;\n        }\n\n        if (dest.length !== current.length) {\n            console.error(\"Spring: target length must match the length of the first argument.\");\n            return;\n        }\n\n        destination = dest;\n        completedIndexes = [];\n        spring.completed = false;\n    }\n\n    function update() {\n        if (destination !== null) {\n            current.forEach((element, index) => {\n                let velocity = current[index] - previous[index];\n                let acceleration = (destination[index] - current[index]) * spring.stiffness - velocity * spring.damping;\n                acceleration /= spring.mass;\n\n                previous[index] = current[index];\n                current[index] += velocity + acceleration;\n                start[index] = current[index];\n\n\n                if (isAtTarget(current[index], destination[index], spring.precision) && !completedIndexes.includes(index)) {\n                    completedIndexes.push(index);\n\n                    if (completedIndexes.length === start.length) {\n                        spring.completed = true;\n                        onUpdate(destination);\n                        onComplete();\n                    }\n                } else if (!completedIndexes.length === start.length) {\n                    onUpdate(getValue());\n                }\n            });\n        }\n    }\n\n    function getValue() {\n        return current;\n    }\n\n    function setValue(value) {\n        current = value.map(element => element);\n        previous = value.map(element => element);\n        completedIndexes = [];\n        destination = null;\n        spring.completed = false;\n    }\n\n    const spring = {\n        completed: false,\n        stiffness,\n        damping,\n        precision,\n        mass,\n        update,\n        getValue,\n        setValue,\n        target\n    };\n\n    spring.setValue(start);\n\n    return spring;\n}\n\nfunction createSpring(start, options) {\n    if (Array.isArray(start)) {\n        return createArraySpring(start, options);\n    }\n\n    if (typeof start === \"object\") {\n        return createObjectSpring(start, options);\n    }\n\n    return createValueSpring(start, options);\n}\n\n// sc0ttj - component specific stuff below\n\n// dont export this, we create the spring for the user, below\n//export default createSpring;\n\n\n// for each property in newState, get the value from the given state\nconst getStateToTween = function(state, newState) {\n  const stateToTween = {}\n  Object.entries(state).forEach(entry => {\n    const key = entry[0];\n    const val = entry[1];\n    if (newState[key]) stateToTween[key] = val;\n  })\n  return stateToTween\n}\n\nconst setTweenedValues = function(state, vals) {\n  function reducer(obj, [key, val]) {\n    obj[key] = val\n    if (typeof val === \"number\") {\n      obj[key] = vals.shift()\n    } else if (typeof val === \"object\") {\n      obj[key] = Object.entries(val).reduce(reducer, {})\n    }\n    return obj\n  }\n  const tweenedState = Object.entries(state).reduce(reducer, {})\n  return tweenedState\n}\n\nconst springTo = function(self, newState, springCfg) {\n  let spring;\n  let timeout;\n  \n  const defaults = {\n    onUpdate: noop,\n    onComplete: noop,\n  };\n\n  const cfg = {\n      ...defaults,\n      ...springCfg,\n      // wrap the users callbacks, so they receive the current tweened values as props\n      onStart: props => {\n        const tweenedState = setTweenedValues(newState, [...props.values])\n        return springCfg.onStart(tweenedState)\n      },\n      onUpdate: props => {\n        const tweenedState = setTweenedValues(newState, [...props.values])\n        if (frame === 1) cfg.onStart(props);\n        return springCfg.onUpdate(tweenedState)\n      },\n      onComplete: props => {\n        const tweenedState = setTweenedValues(newState, [...props.values])\n        return springCfg.onComplete(tweenedState)\n      },\n  };\n\n  // get a state matching the shape of newState, but with values from self.state\n  const stateToTween = getStateToTween(self.state, newState)\n\n  // define the spring\n  spring = createSpring(stateToTween, { ...defaults, ...springCfg });\n\n  // console.log({\n  //   stateToTween,\n  //   newState,\n  //   springConfig: { ...defaults, ...springCfg },\n  //   spring,\n  // });\n\n  // pass the values to animate\n  spring.target(newState);\n\n  // define the animation loop\n  function loop() {\n    spring.update();\n    frame += 1;\n    timeout = requestAnimationFrame(loop);\n  }\n\n  // start the loop\n  let frame = 1;\n  requestAnimationFrame(() => loop())\n\n};\n\nexport default springTo;\n\n"],"names":["raf"],"mappings":"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"}