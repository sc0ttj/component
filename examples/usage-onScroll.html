<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script src="../dist/component.min.js"></script>
<script src="../dist/onScroll.min.js"></script>
</head>
<body>

<div style="margin: 16px; height: 200px; background-color: blue"></div>
<div style="margin: 16px; height: 200px; background-color: blue"></div>
<div style="margin: 16px; height: 200px; background-color: blue"></div>
<div class="container"></div>
<div style="margin: 16px; height: 200px; background-color: blue"></div>
<div style="margin: 16px; height: 200px; background-color: blue"></div>
<div style="margin: 16px; height: 200px; background-color: blue"></div>

<div class="guideline" style="height: 1px;border-top: 1px dashed red;position: fixed;top: 33%;width: 100%;"></div>


<script>

  // attach the useAudio add-on to Component
  Component.onScroll = onScroll;

  // place an invisible marker line, fixed to the given screen height, past which
  // all components will scroll - defaults to 40%.. The higher the %, the earlier
  // the given onScroll method(s) will be triggered.

  //Component.onScroll.markerLine = '50%';

  const Foo = new Component({ progressBarWidth: 0 });

  // Each component can have a different marker line

  //Foo.onScroll.markerLine = '60%';

  Foo.view = props => `
  <div style="padding: 16px; height:1800px; width: 80%; margin: 48px auto; background-color: #e7e7e7;">
    <p>Scroll me, and look in the Dev Tools console...</p>
    <div style="position: fixed; top: 16px; left: 16px; padding:4px; color: white; border: 1px solid black; height: 20px;background-color: green;width: calc(${props.progressBarWidth * 100}% -16px);">
      progress: ${Math.floor(props.progressBarWidth * 100)}%
    </div>
  </div>
  `;

  Foo.render('.container');

  Foo.onScroll.offset = 33; // 50 means 50%, which is halfway down the screen

  // now we can add the scroll event to the component
  Foo.onScroll(scrollProps => {
    // do stuff here, like update a progress bar
    console.log('scrollProps', scrollProps);
    Foo.setState({ progressBarWidth: scrollProps.progress });
  });



</script>
</body>

</html>
